{"version":3,"sources":["components/core/logo.png","components/auth/apiAuth.js","components/auth/PrivateRoute.js","components/core/Navbar.js","components/core/Home.js","components/properties/apiProperties.js","components/core/apiContact.js","components/core/Contact.js","components/properties/Properties.js","components/properties/Property.js","components/auth/Signin.js","components/auth/ForgotPassword.js","components/users/apiUsers.js","components/users/UserInfo.js","components/users/resident/UserDocuments.js","components/users/UpdateSelf.js","components/users/admin/AddForms.js","components/users/admin/RemoveForms.js","components/users/admin/AddResidents.js","components/users/admin/ManageResidents.js","components/users/admin/ResidentDocuments.js","components/users/admin/AddProperties.js","components/users/admin/ManageProperties.js","components/users/Messages.js","components/users/resident/ResidentContact.js","components/users/resident/Maintenance.js","components/users/resident/PayRent.js","components/users/UserDashboard.js","App.js","index.js"],"names":["module","exports","jwtDecode","require","API","process","isAuth","window","localStorage","getItem","token","exp","Date","now","JSON","parse","signout","next","removeItem","fetch","method","then","catch","err","console","log","PrivateRoute","Component","component","rest","render","props","to","pathname","state","from","location","isActive","history","path","withRouter","className","src","logo","alt","type","data-toggle","data-target","id","style","cursor","onClick","push","Home","readAllProperties","headers","Accept","response","json","sendContact","data","body","readAllForms","Contact","useState","forms","setForms","properties","setProperties","first_name","last_name","email","phone","reason","property","application","message","formData","FormData","contact","setContact","error","setError","success","setSuccess","useEffect","onChange","selected","event","value","target","files","set","delete","onSubmit","preventDefault","isApplicationSelected","document","getElementById","i","getElementsByClassName","length","display","encType","htmlFor","aria-describedby","name","map","available","key","_id","address","address2","city","zip","rows","accept","conditionalInput","form","href","file","url","rel","street","Properties","filteredProperties","setFilteredProperties","setSelected","mapType","setMapType","longitude","latitude","width","height","zoom","viewport","setViewport","rentMin","rentMax","beds","baths","sort","filters","setFilters","rentFilter","bedsFilter","bathsFilter","filterValues","setFilterValues","expandedFilters","setExpandedFilters","windowSize","setWindowSize","getAllProperties","maxRent","Math","max","apply","rent","maxBeds","maxBaths","rentArr","bedsArr","bathsArr","innerWidth","innerHeight","changeSelected","long","lat","numLong","Number","numLat","changeFilters","zoomMap","direction","useLayoutEffect","updateSize","addEventListener","removeEventListener","isExpanded","getAttribute","aria-expanded","aria-controls","arr","query","queryString","filter","split","mapStyle","mapboxApiAccessToken","onViewportChange","images","size","Property","match","setProperty","getProperty","propertyId","params","data-ride","image","role","data-slide","aria-hidden","data-slide-to","info","Signin","password","values","setValues","valueProp","user","stringify","setItem","authenticate","ForgotPassword","forgotPassword","signinForm","readAllUsers","Authorization","UserInfo","createdAt","updatedAt","moment","format","UserDocuments","UpdateSelf","confirm_password","updatedUser","setUpdatedUser","submitUpdate","updateSelf","autoComplete","ManageForms","newForm","setNewForm","isFileSelected","createForm","RemoveForms","selectedForm","setSelectedForm","getAllForms","selectForm","selectedId","forEach","deleteFormClick","confirm","deleteForm","Signup","setUser","signup","ManageResidents","users","setUsers","selectedUser","setSelectedUser","selectedProperty","setSelectedProperty","getAllUsers","useCallback","selectProperty","selectUser","changeUserInfo","updateUserClick","updateUser","deleteUserClick","deleteUser","disabled","ResidentDocuments","onFileChange","onFileSubmit","userId","uploadFile","AddProperties","setImages","newProperty","setNewProperty","setInitialAvailability","changePropertyInfo","includes","prop","undefined","splice","photos","getAll","photo","append","addProperty","createProperty","returnData","element","checked","ManageProperties","updatePropertyClick","updateProperty","deletePropertyClick","deleteProperty","Messages","messages","setMessages","filteredMessages","setFilteredMessages","getMessages","readAllMessages","readMyMessages","submitFilters","resetFilters","deleteMessage","contactId","deleteContact","severity","Maintenance","setUserFormInfo","PayRent","payments","clientToken","instance","payment","setPayment","getToken","getClientToken","checkUserProperty","parseFloat","round","toFixed","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","options","authorization","onInstance","date","UserDashboard","section","setSection","sidebar","setSidebar","signedIn","setSignedIn","getUser","readCurrentUser","reverse","toggleSection","toggleSidebar","ResidentContact","AddForms","AddResidents","showSection","App","exact","ReactDOM"],"mappings":"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","file":"static/js/main.38b57d1d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.b6e78d9e.png\";","const jwtDecode = require('jwt-decode');\r\nconst API = process.env.REACT_APP_API_URL;\r\n\r\nexport const signup = (token, user) => {\r\n    return fetch(`${API}/auth/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const signin = user => {\r\n    return fetch(`${API}/auth/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(user)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n    if(typeof window !== 'undefined') {\r\n        localStorage.setItem('jwt', JSON.stringify(data));\r\n        next();\r\n    }\r\n};\r\n\r\nexport const isAuth = () => {\r\n    if(typeof window === 'undefined') {\r\n        return false;\r\n    }\r\n    if(localStorage.getItem('jwt')) {\r\n        const token = localStorage.getItem('jwt');\r\n        const {exp} = jwtDecode(token);\r\n        const curTime = Date.now() / 1000;\r\n        if(exp >= curTime) {\r\n            return JSON.parse(token);\r\n        } else {\r\n            signout(() => {});\r\n            return false;\r\n        }\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const signout = next => {\r\n    if(typeof window !== 'undefined') {\r\n        localStorage.removeItem('jwt');\r\n        next();\r\n        return fetch(`${API}/auth/signout`, {\r\n            method: 'GET'\r\n        }).then().catch(err => {\r\n            console.log(err)\r\n        });\r\n    }\r\n};\r\n\r\nexport const forgotPassword = (email) => {\r\n    return fetch(`${API}/auth/password/forgot`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email})\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {isAuth} from './apiAuth';\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => (\r\n    <Route {...rest} render={props => isAuth() ? (\r\n            <Component {...props} />\r\n        ) : (\r\n            <Redirect to={{pathname: '/signin', state: {from: props.location}}}/>\r\n        )}\r\n    />\r\n);\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport {isAuth, signout} from '../auth/apiAuth';\r\n\r\nimport logo from './logo.png';\r\n\r\nconst isActive = (history, path) => {\r\n    if(history.location.pathname === path) {\r\n        return true;\r\n    }\r\n}\r\n\r\nconst Navbar = ({history}) => (\r\n    <div className='sticky-top shadow-sm'>\r\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n            <div className='container-fluid'>\r\n                <div className='navbar-brand abs'>\r\n                    <Link className='brand-fix' to='/'>\r\n                        <img className='logo shadow-lg' src={logo} alt='NJAH Properties Logo' />\r\n                    </Link>\r\n                </div>\r\n                <button className=\"custom-toggler navbar-toggler ml-auto\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapsingNavbar\">\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n                <div className=\"navbar-collapse collapse\" id=\"collapsingNavbar\">\r\n                    <ul className=\"navbar-nav\">\r\n                        <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                            <Link className={`nav-link ${isActive(history, '/') && 'active'}`} to='/'>\r\n                                Home\r\n                            </Link>\r\n                        </li>\r\n                        <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                            <Link className={`nav-link ${isActive(history, '/properties') && 'active'}`} to='/properties'>\r\n                                Properties\r\n                            </Link>\r\n                        </li>\r\n                        <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                            <Link className={`nav-link ${isActive(history, '/contact') && 'active'}`} to='/contact'>\r\n                                Contact & Forms\r\n                            </Link>\r\n                        </li>\r\n                    </ul>\r\n                    <ul className=\"navbar-nav ml-auto\">\r\n                        {!isAuth() ? (\r\n                            <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                                <Link className={`nav-link ${isActive(history, '/signin') && 'active'}`} to='/signin'>\r\n                                    Resident Sign In\r\n                                </Link>\r\n                            </li>\r\n                        ) : (\r\n                            <>\r\n                                <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                                    <Link className={`nav-link ${isActive(history, '/dashboard') && 'active'}`} to='/dashboard'>\r\n                                        Dashboard\r\n                                    </Link>\r\n                                </li>\r\n                                <li className='nav-item' data-toggle='collapse' data-target='.navbar-collapse.show'>\r\n                                    <span className='nav-link' style={{cursor: 'pointer'}} onClick={() => signout(() => {history.push('/');})}>\r\n                                        Sign Out\r\n                                    </span>\r\n                                </li>\r\n                            </>\r\n                        )}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    </div>\r\n);\r\n\r\nexport default withRouter(Navbar);","import React from 'react';\r\n\r\nconst Home = () => (\r\n    <div>\r\n        <div className='home fixed'></div>\r\n        <div className='w-100 text-center text-primary'>\r\n            <h1 className='home-header'>\r\n                NJAH Properties\r\n            </h1>\r\n            <h2 className='home-header home-header2'>\r\n                <em>Welcome Home</em>\r\n            </h2>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default Home;","const API = process.env.REACT_APP_API_URL;\r\n\r\nexport const readAllProperties = () => {\r\n    return fetch(`${API}/property/read/all`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const readProperty = id => {\r\n    return fetch(`${API}/property/read/${id}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const readPropertiesWithQuery = query => {\r\n    return fetch(`${API}/property/read/query?${query}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};","const API = process.env.REACT_APP_API_URL;\r\n\r\nexport const sendContact = (data) => {\r\n    return fetch(`${API}/contact/contact`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json'\r\n        },\r\n        body: data\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const readAllForms = () => {\r\n    return fetch(`${API}/form/read/all`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};","import React, {useState, useEffect} from 'react';\r\nimport {readAllProperties} from '../properties/apiProperties';\r\nimport {sendContact, readAllForms} from './apiContact';\r\n\r\nconst Contact = () => {\r\n    const [forms, setForms] = useState([]);\r\n    const [properties, setProperties] = useState([]);\r\n    const [contact, setContact] = useState({\r\n        first_name: '',\r\n        last_name: '',\r\n        email: '',\r\n        phone: '',\r\n        reason: '',\r\n        property: '',\r\n        application: '',\r\n        message: '',\r\n        formData: new FormData()\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const {first_name, last_name, email, phone, reason, property, message, formData} = contact;\r\n\r\n    const getAllProperties = () => {\r\n        readAllProperties().then((data, err) => {\r\n            if(err || !data) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(data.err) {\r\n                    setError(data.err);\r\n                } else {\r\n                    setProperties(data);\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const getAllForms = () => {\r\n        readAllForms().then((data, err) => {\r\n            if(err || !data) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(data.err) {\r\n                    setError(data.err);\r\n                } else {\r\n                    setForms(data);\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getAllProperties();\r\n        getAllForms();\r\n    }, []);\r\n\r\n    const onChange = selected => event => {\r\n        setError('');\r\n        setSuccess(false);\r\n        let value = selected === 'application' ? event.target.files[0] : event.target.value;\r\n        if(selected === 'reason') {\r\n            formData.set(selected, value);\r\n            formData.delete('application');\r\n            setContact({\r\n                ...contact,\r\n                property: '',\r\n                message: '',\r\n                application: '',\r\n                reason: value\r\n            });\r\n        } else {\r\n            setContact({...contact, [selected]: value});\r\n            formData.set(selected, value);\r\n        }\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        formData.set('type', 'General');\r\n        if(reason === 'Property Application' && !isApplicationSelected(0)) {\r\n            return setError('You must attach an application.');\r\n        }\r\n        sendContact(formData).then((data, err) => {\r\n            if(!data || err) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(data.err) {\r\n                    setError(data.err);\r\n                } else {\r\n                    if(reason === 'Property Application') {\r\n                        document.getElementById(\"application\").value = null;\r\n                    }\r\n                    setContact({\r\n                        first_name: '',\r\n                        last_name: '',\r\n                        email: '',\r\n                        phone: '',\r\n                        reason: '',\r\n                        property: '',\r\n                        application: '',\r\n                        message: '',\r\n                        formData: new FormData()\r\n                    });\r\n                    setError('');\r\n                    setSuccess(true);\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const isApplicationSelected = i => {\r\n        if(document.getElementsByClassName('application')[i]) {\r\n            let inputIndex = document.getElementsByClassName('application')[i].value;\r\n            return inputIndex.length > 0 ? true : false;\r\n        }\r\n    };\r\n\r\n    const conditionalInput = () => {\r\n        switch(reason) {\r\n            case 'Property Inquiry':\r\n                return (\r\n                    <div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor='property'>Which Property Are You Interested In?</label>\r\n                            <select value={property} onChange={onChange('property')} className=\"form-control text-primary\" id=\"property\" name=\"property\">\r\n                                <option value=''>Select One</option>\r\n                                {properties.length > 0 && properties.map((property, i) => property.available === true && (\r\n                                    <option key={i} value={property._id} key={i}>{`${property.address}, ${property.address2 ? `${property.address2}, ` : ``} ${property.city}, ${property.state}, ${property.zip}`}</option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n                        <div className='form-group'>\r\n                            <label htmlFor='message'>Anything Else We Should Know?</label>\r\n                            <textarea onChange={onChange('message')} value={message} rows='4' className='form-control text-primary' id='message' aria-describedby='message'></textarea>\r\n                        </div>\r\n                    </div>\r\n                );\r\n                case 'Property Application':\r\n                    return (\r\n                        <div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor='property'>Which Property Are You Interested In?</label>\r\n                                <select value={property} onChange={onChange('property')} className=\"form-control text-primary\" id=\"property\" name=\"property\">\r\n                                    <option value=''>Select One</option>\r\n                                    {properties.length > 0 && properties.map((property, i) => property.available === true && (\r\n                                        <option key={i} value={property._id} key={i}>{`${property.address}, ${property.address2 ? `${property.address2}, ` : ``} ${property.city}, ${property.state}, ${property.zip}`}</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                            <div className='form-group'>\r\n                                <label htmlFor='application'>Upload Application&nbsp;</label>\r\n                                <input onChange={onChange('application')} type='file' accept='*' id='application' name='application' className='text-primary application' />\r\n                            </div>\r\n                            <div className='form-group'>\r\n                                <label htmlFor='message'>Anything Else We Should Know?</label>\r\n                                <textarea onChange={onChange('message')} value={message} rows='4' className='form-control text-primary' id='message' aria-describedby='message'></textarea>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n            case 'Other':\r\n                return (\r\n                    <div className='form-group'>\r\n                        <label htmlFor='message'>How Can We Help?</label>\r\n                        <textarea onChange={onChange('message')} value={message} rows='4' className='form-control text-primary' id='message' aria-describedby='message'></textarea>\r\n                    </div>\r\n                );\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    const contactForm = () => (\r\n        <form encType=\"multipart/form-data\">\r\n            <div className='row'>\r\n                <div className='col-sm-12 col-md-6'>\r\n                    <div className='form-group'>\r\n                        <label htmlFor='first_name'>First Name</label>\r\n                        <input onChange={onChange('first_name')} value={first_name} type='text' className='form-control text-primary' id='first_name' aria-describedby='firstName' />\r\n                    </div>\r\n                </div>\r\n                <div className='col-sm-12 col-md-6'>\r\n                    <div className='form-group'>\r\n                        <label htmlFor='last_name'>Last Name</label>\r\n                        <input onChange={onChange('last_name')} value={last_name} type='text' className='form-control text-primary' id='last_name' aria-describedby='lastName' />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='row'>\r\n                <div className='col-md-12 col-lg-6'>\r\n                    <div className='form-group'>\r\n                        <label htmlFor='email'>Email Address</label>\r\n                        <input onChange={onChange('email')} value={email} type='email' className='form-control text-primary' id='email' aria-describedby='email' />\r\n                    </div>\r\n                </div>\r\n                <div className='col-md-12 col-lg-6'>\r\n                    <div className='form-group'>\r\n                        <label htmlFor='phone'>Phone Number</label>\r\n                        <input onChange={onChange('phone')} value={phone} type='tel' className='form-control text-primary' id='phone' aria-describedby='phone' />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor='reason'>Reason for Contact</label>\r\n                <select onChange={onChange('reason')} className=\"form-control text-primary\" id=\"reason\" name=\"reason\">\r\n                    <option value=''>Select One</option>\r\n                    <option value='Property Inquiry'>Property Inquiry</option>\r\n                    <option value='Property Application'>Apply for Property</option>\r\n                    <option value='Other'>Other</option>\r\n                </select>\r\n            </div>\r\n            {conditionalInput()}\r\n            <div className='text-center'>\r\n                <button onClick={onSubmit} type='submit' className='btn btn-primary'>Submit</button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            Thank you for contacting us! We will be in touch with you as soon as possible.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='text-primary my-5'>\r\n            <div className='container'>\r\n                {showError()}\r\n                {showSuccess()}\r\n                <div className='row'>\r\n                    <div className='col-12 col-lg-8 order-1 order-lg-0'>\r\n                        <div className='d-block d-lg-none'>\r\n                            <br />\r\n                            <br />\r\n                        </div>\r\n                        <h1 className='text-center'>Send Us A Message</h1>\r\n                        <hr />\r\n                        {contactForm()}\r\n                    </div>\r\n                    <div className='col-12 col-lg-4 order-0 order-lg-1 text-center'>\r\n                        <div>\r\n                            <h1>Forms</h1>\r\n                            <hr />\r\n                            {forms.length > 0 && forms.map((form, i) => (\r\n                                <div key={i}>\r\n                                    <a href={`${form.file.url}`} target='_blank' rel=\"noopener noreferrer\">{form.name}</a>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <br />\r\n                        <br />\r\n                        <div>\r\n                            <h1>Contact Info</h1>\r\n                            <hr />\r\n                            <h6>Telephone</h6>\r\n                            <a href=\"tel:1234567890\">940-600-3821</a>\r\n                            <hr />\r\n                            <h6>Fax</h6>\r\n                            <a href=\"tel:1234567890\">940-591-9918</a>\r\n                            <hr />\r\n                            <h6>Email</h6>\r\n                            <a href=\"mailto:sample@email.com\">NJAHProperties@gmail.com</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Contact;","import React, {useState, useEffect, useLayoutEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {readAllProperties, readPropertiesWithQuery} from './apiProperties';\r\nimport ReactMapGL, {Marker} from 'react-map-gl';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\n\r\nconst street = 'mapbox://styles/njahproperties/ck4swxwkybgmz1cp4b6bpdh40';\r\nconst satellite = 'mapbox://styles/njahproperties/ck4swyh961s9z1cqpo0uk04t8';\r\n\r\nconst Properties = () => {\r\n    const [properties, setProperties] = useState([]);\r\n    const [filteredProperties, setFilteredProperties] = useState([]);\r\n    const [selected, setSelected] = useState(null);\r\n    const [mapType, setMapType] = useState(street)\r\n    const [viewport, setViewport] = useState({\r\n        longitude: -97.1331,\r\n        latitude: 33.2148,\r\n        width: '100%',\r\n        height: 'calc(100vh - 60px)',\r\n        zoom: 11\r\n    });\r\n    const [filters, setFilters] = useState({\r\n        rentMin: '',\r\n        rentMax: '',\r\n        beds: '',\r\n        baths: '',\r\n        sort: ''\r\n    });\r\n    const [filterValues, setFilterValues] = useState({\r\n        rentFilter: [],\r\n        bedsFilter: [],\r\n        bathsFilter: []\r\n    });\r\n    const [expandedFilters, setExpandedFilters] = useState(true);\r\n    const [windowSize, setWindowSize] = useState([0, 0]);\r\n    const [error, setError] = useState('');\r\n\r\n    const getWindowSize = () => {\r\n        setWindowSize([window.innerWidth, window.innerHeight]);\r\n        if(window.innerWidth >= 2000) {\r\n            setViewport({...viewport, zoom: 13});\r\n        } else if(window.innerWidth < 2000 && window.innerWidth >= 1400) {\r\n            setViewport({...viewport, zoom: 12});\r\n        }\r\n    }\r\n\r\n    const useWindowSize = () => {\r\n        useLayoutEffect(() => {\r\n            function updateSize() {\r\n                setWindowSize([window.innerWidth, window.innerHeight]);\r\n            }\r\n            window.addEventListener('resize', updateSize);\r\n            setViewport({...viewport, width: '100%', height: 'calc(100vh - 60px)'});\r\n            return () => window.removeEventListener('resize', updateSize);\r\n        }, [windowSize]);\r\n    }\r\n\r\n    const getAllProperties = () => {\r\n        readAllProperties().then((data, err) => {\r\n            if(err || !data) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                setError('');\r\n                setProperties(data);\r\n                const maxRent = Math.max.apply(Math, data.map(property => {\r\n                    return property.rent;\r\n                }));\r\n                const maxBeds = Math.max.apply(Math, data.map(property => {\r\n                    return property.beds;\r\n                }));\r\n                const maxBaths = Math.max.apply(Math, data.map(property => {\r\n                    return property.baths;\r\n                }));\r\n                const rentArr = [];\r\n                for(let i = 100; i <= maxRent + 100; i += 100) {\r\n                    rentArr.push(i);\r\n                }\r\n                const bedsArr = [];\r\n                for(let i = 1; i <= maxBeds; i ++) {\r\n                    bedsArr.push(i);\r\n                }\r\n                const bathsArr = [];\r\n                for(let i = 1; i <= maxBaths; i ++) {\r\n                    bathsArr.push(i);\r\n                }\r\n                setFilterValues({\r\n                    ...filterValues,\r\n                    rentFilter: rentArr,\r\n                    bedsFilter: bedsArr,\r\n                    bathsFilter: bathsArr\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getAllProperties();\r\n        getWindowSize();\r\n    }, []);\r\n\r\n    const changeSelected = (id, long, lat) => event => {\r\n        event.preventDefault();\r\n        const numLong = Number(long);\r\n        const numLat = Number(lat);\r\n        setSelected(id, long, lat);\r\n        if(id) {\r\n            setViewport({\r\n                ...viewport,\r\n                longitude: numLong,\r\n                latitude: numLat,\r\n                zoom: 16\r\n            });\r\n        } else {\r\n            setViewport({\r\n                ...viewport, \r\n                longitude: -97.1331,\r\n                latitude: 33.2148,\r\n                zoom: 11\r\n            });\r\n        }\r\n    };\r\n\r\n    const changeMapType = event => {\r\n        event.preventDefault();\r\n        if(mapType === street) {\r\n            setMapType(satellite);\r\n        } else {\r\n            setMapType(street);\r\n        }\r\n    };\r\n\r\n    const changeFilters = selected => event => {\r\n        setFilters({...filters, [selected]: event.target.value});\r\n    };\r\n\r\n    const submitFilters = event => {\r\n        event.preventDefault();\r\n        let queryString = '';\r\n        for(let filter in filters) {\r\n            if(filters[filter]) {\r\n                if(queryString.length > 0) {\r\n                    if(filter === 'sort') {\r\n                        queryString += `&sortBy=${filters[filter].split(' ')[0]}&order=${filters[filter].split(' ')[1]}`;\r\n                    } else {\r\n                        queryString += `&${filter}=${filters[filter]}`;\r\n                    }\r\n                } else {\r\n                    if(filter === 'sort') {\r\n                        queryString += `sortBy=${filters[filter].split(' ')[0]}&order=${filters[filter].split(' ')[1]}`;\r\n                    } else {\r\n                        queryString += `${filter}=${filters[filter]}`;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        readPropertiesWithQuery(queryString).then((data, err) => {\r\n            if(!data || err) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(data.length === 0) {\r\n                    setFilters({\r\n                        rentMin: '',\r\n                        rentMax: '',\r\n                        beds: '',\r\n                        baths: '',\r\n                        sort: ''\r\n                    });\r\n                }\r\n                setError('');\r\n                setFilteredProperties(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const resetFilters = event => {\r\n        event.preventDefault();\r\n        setFilters({\r\n            rentMin: '',\r\n            rentMax: '',\r\n            beds: '',\r\n            baths: '',\r\n            sort: ''\r\n        });\r\n        setFilteredProperties([]);\r\n        getAllProperties();\r\n    };\r\n\r\n    const zoomMap = direction => event => {\r\n        direction === 'in' ? setViewport({...viewport, zoom: (viewport.zoom + 1)}) : setViewport({...viewport, zoom: (viewport.zoom - 1)})\r\n    };\r\n\r\n    const handleFilterToggle = event => {\r\n        let isExpanded = document.getElementById('filter-toggle').getAttribute('aria-expanded');\r\n        if(isExpanded === 'true') {\r\n            setExpandedFilters(true);\r\n        } else {\r\n            setExpandedFilters(false);\r\n        }\r\n    };\r\n\r\n    const showError = () => (\r\n        <div className='mt-3 mx-3 alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n            <br />\r\n            <button className='btn btn-primary mt-2' onClick={() => getAllProperties()}>\r\n                Reload Properties\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            {useWindowSize()}\r\n            <div className='row reset-margin text-primary'>\r\n                <div className='col-xs-12 col-sm-8 d-none d-sm-block p-0 order-2 order-sm-1'>\r\n                    <div className='fixed-top fixed-map'>\r\n                        <button onClick={handleFilterToggle} className=\"btn btn-primary toggleBtn\" id='filter-toggle' type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseExample\" aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                            {expandedFilters === true ? 'Hide' : 'Show'} Filters\r\n                        </button>\r\n                        <div className=\"collapse show bg-light\" id=\"collapseExample\">\r\n                            <form>\r\n                                <div>\r\n                                    <div className=\"col-12 my-2\">\r\n                                        <h4>Filter Properties</h4>\r\n                                    </div>\r\n                                    <div className=\"form-group col-12 mb-2\">\r\n                                        <select value={filters.rentMin} className=\"form-control text-primary\" onChange={changeFilters('rentMin')} id=\"rentMin\" name=\"rentMin\">\r\n                                            <option value=''>Min Rent</option>\r\n                                            {filterValues.rentFilter.map((value, i, arr) => {\r\n                                                if(i === arr.length - 1) {\r\n                                                    return;\r\n                                                } else {\r\n                                                    return (\r\n                                                        <option key={value} value={value}>${value}</option>\r\n                                                    );\r\n                                                }\r\n                                            })}\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className=\"form-group col-12 mb-2\">\r\n                                        <select value={filters.rentMax} className=\"form-control text-primary\" onChange={changeFilters('rentMax')} id=\"rentMax\" name=\"rentMax\">\r\n                                            <option value=''>Max Rent</option>\r\n                                            {filterValues.rentFilter.map(value => (\r\n                                                <option key={value} value={value}>${value}</option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className=\"form-group col-12 mb-2\">\r\n                                        <select value={filters.beds} className=\"form-control text-primary\" onChange={changeFilters('beds')} id=\"beds\" name=\"beds\">\r\n                                            <option value=''>Beds</option>\r\n                                            {filterValues.bedsFilter.map(value => (\r\n                                                <option key={value} value={value}>{value}</option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className=\"form-group col-12 mb-2\">\r\n                                        <select value={filters.baths} className=\"form-control text-primary\" onChange={changeFilters('baths')} id=\"baths\" name=\"baths\">\r\n                                            <option value=''>Baths</option>\r\n                                            {filterValues.bathsFilter.map(value => (\r\n                                                <option key={value} value={value}>{value}</option>\r\n                                            ))}\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className=\"form-group col-12 mb-2\">\r\n                                        <select value={filters.sort} className=\"form-control text-primary\" onChange={changeFilters('sort')} id=\"sort\" name=\"sort\">\r\n                                            <option value=''>Sort By</option>\r\n                                            <option value='rent desc'>Rent (High to Low)</option>\r\n                                            <option value='rent asc'>Rent (Low to High)</option>\r\n                                            <option value='beds desc'>Beds (High to Low)</option>\r\n                                            <option value='beds asc'>Beds (Low to High)</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <div className=\"col-12 mb-2\">\r\n                                        <button onClick={submitFilters} className=\"btn btn-primary w-100\">Search Properties</button>\r\n                                    </div>\r\n                                    <div className=\"col-12 mb-2\">\r\n                                        <button onClick={resetFilters} className=\"btn btn-outline-primary w-100\">Reset Filters</button>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        <button className='btn btn-primary map-view' onClick={changeMapType}>{mapType === street ? 'Satellite View' : 'Street View'}</button>\r\n                        <button className='btn btn-primary map-reset' onClick={changeSelected(null)}>Reset Map</button>\r\n                        <button className='btn btn-primary map-zoomIn' onClick={zoomMap('in')}>+</button>\r\n                        <button className='btn btn-primary map-zoomOut' onClick={zoomMap('out')}>-</button>\r\n                        <ReactMapGL {...viewport} mapStyle={mapType} mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_KEY} onViewportChange={viewport => {setViewport(viewport)}}>\r\n                            {!selected && filteredProperties.length === 0 && properties.map(property => (\r\n                                <Marker key={property._id} latitude={Number(property.lat)} longitude={Number(property.long)}>\r\n                                    <button className='markerbtn' onClick={changeSelected(`${property._id}`, `${property.long}`, `${property.lat}`)}>\r\n                                        <div className='marker'></div>\r\n                                    </button>\r\n                                </Marker>\r\n                            ))}\r\n                            {!selected && filteredProperties.length > 0 && filteredProperties.map(property => (\r\n                                <Marker key={property._id} latitude={Number(property.lat)} longitude={Number(property.long)}>\r\n                                    <button className='markerbtn' onClick={changeSelected(`${property._id}`, `${property.long}`, `${property.lat}`)}>\r\n                                        <div className='marker'></div>\r\n                                    </button>\r\n                                </Marker>\r\n                            ))}\r\n                            {selected && properties.map(property => {\r\n                                if(selected === property._id) {\r\n                                    return (\r\n                                        <Marker key={property._id} latitude={Number(property.lat)} longitude={Number(property.long)}>\r\n                                            <button className='markerbtn'>\r\n                                                <div className='marker'></div>\r\n                                            </button>\r\n                                        </Marker>\r\n                                    );\r\n                                } else {\r\n                                    return null;\r\n                                }\r\n                            })}\r\n                        </ReactMapGL>\r\n                    </div>\r\n                </div>\r\n                <div className='col-xs-12 col-sm-4 p-0 order-1 order-sm-2'>\r\n                    {showError()}\r\n                    {!selected && filteredProperties.length === 0 && properties.map(property => (\r\n                        <div key={property._id} className=\"card bg-light\">\r\n                            <div className=\"row no-gutters\">\r\n                                <h5 className=\"card-title w-100 text-center mt-2\"><strong>{property.address}{property.address2 ? `, ${property.address2}` : null}</strong></h5>\r\n                                <h6 className=\"card-title w-100 text-center mt-0\"><strong>{property.city}, {property.state}, {property.zip}</strong></h6>\r\n                                <div className=\"col-6 col-sm-12 col-lg-7\">\r\n                                    <img src={property.images.length === 0 ? 'https://res.cloudinary.com/njah-properties/image/upload/v1587054014/njah_properties/comingsoon_q2hb1p.jpg' : property.images[0].url} className=\"card-img\" alt={`${property.address}`} />\r\n                                </div>\r\n                                <div className=\"col-6 col-sm-12 col-lg-5 px-2 mt-2\">\r\n                                    <h6><strong>{property.available === true ? 'Available' : 'Not Available'}</strong></h6>\r\n                                    <h6><strong>Rent: </strong>{property.available === true ? `$${property.rent}` : 'N/A'}</h6>\r\n                                    <h6><strong>Size: </strong>{property.size} Sq Ft</h6>\r\n                                    <h6><strong>Beds: </strong>{property.beds}</h6>\r\n                                    <h6><strong>Baths: </strong>{property.baths}</h6>\r\n                                    {windowSize[0] >= 1700 && (\r\n                                        <div className='xxl-btns'>\r\n                                            <Link className='btn btn-primary w-100 col-12' to={`/properties/${property._id}`}>More Info</Link>\r\n                                            <button className='markerbtn outline mt-2 w-100 col-12' onClick={changeSelected(`${property._id}`, `${property.long}`, `${property.lat}`)}>\r\n                                                <div className='marker'></div>\r\n                                                <div className='marker-card-text'>Locate</div>\r\n                                            </button>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                            {windowSize[0] < 1700 && (\r\n                                <div className='row form-row'>\r\n                                    <button className='markerbtn mt-1 outline w-100 col-6 col-sm-12 col-md-6 d-none d-sm-block' onClick={changeSelected(`${property._id}`, `${property.long}`, `${property.lat}`)}>\r\n                                        <div className='marker'></div>\r\n                                        <div className='marker-card-text'>Locate</div>\r\n                                    </button>\r\n                                    <Link className='btn btn-primary mt-1 w-100 col-12 col-md-6' to={`/properties/${property._id}`}>More Info</Link>   \r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                    {!selected && filteredProperties.length > 0 && filteredProperties.map(property => (\r\n                        <div key={property._id} className=\"card bg-light\">\r\n                            <div className=\"row no-gutters\">\r\n                                <h5 className=\"card-title w-100 text-center mt-2\"><strong>{property.address}{property.address2 ? `, ${property.address2}` : null}</strong></h5>\r\n                                <h6 className=\"card-title w-100 text-center mt-0\"><strong>{property.city}, {property.state}, {property.zip}</strong></h6>\r\n                                <div className=\"col-6 col-sm-12 col-lg-7\">\r\n                                    <img src={property.images.length === 0 ? 'https://res.cloudinary.com/njah-properties/image/upload/v1587054014/njah_properties/comingsoon_q2hb1p.jpg' : property.images[0].url} className=\"card-img\" alt={`${property.address}`} />\r\n                                </div>\r\n                                <div className=\"col-6 col-sm-12 col-lg-5 px-2 mt-2\">\r\n                                    <h6><strong>{property.available === true ? 'Available' : 'Not Available'}</strong></h6>\r\n                                    <h6><strong>Rent: </strong>{property.available === true ? `$${property.rent}` : 'N/A'}</h6>\r\n                                    <h6><strong>Size: </strong>{property.size} Sq Ft</h6>\r\n                                    <h6><strong>Beds: </strong>{property.beds}</h6>\r\n                                    <h6><strong>Baths: </strong>{property.baths}</h6>\r\n                                    {windowSize[0] >= 1700 && (\r\n                                        <div className='xxl-btns'>\r\n                                            <Link className='btn btn-primary w-100 col-12' to={`/properties/${property._id}`}>More Info</Link>\r\n                                            <button className='markerbtn outline mt-2 w-100 col-12' onClick={changeSelected(`${property._id}`, `${property.long}`, `${property.lat}`)}>\r\n                                                <div className='marker'></div>\r\n                                                <div className='marker-card-text'>Locate</div>\r\n                                            </button>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                            {windowSize[0] < 1700 && (\r\n                                <div className='row form-row'>\r\n                                    <button className='markerbtn mt-1 outline w-100 col-6 col-sm-12 col-md-6 d-none d-sm-block' onClick={changeSelected(`${property._id}`, `${property.long}`, `${property.lat}`)}>\r\n                                        <div className='marker'></div>\r\n                                        <div className='marker-card-text'>Locate</div>\r\n                                    </button>\r\n                                    <Link className='btn btn-primary mt-1 w-100 col-12 col-md-6' to={`/properties/${property._id}`}>More Info</Link>   \r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                    {selected && properties.map(property => {\r\n                        if(selected === property._id) {\r\n                            return (\r\n                                <div key={property._id} className=\"card bg-light\">\r\n                                    <div className=\"row no-gutters\">\r\n                                        <h5 className=\"card-title w-100 text-center mt-2\"><strong>{property.address}{property.address2 ? `, ${property.address2}` : null}</strong></h5>\r\n                                        <h6 className=\"card-title w-100 text-center mt-0\"><strong>{property.city}, {property.state}, {property.zip}</strong></h6>\r\n                                        <div className=\"col-6 col-sm-12 col-lg-7\">\r\n                                            <img src={property.images.length === 0 ? 'https://res.cloudinary.com/njah-properties/image/upload/v1587054014/njah_properties/comingsoon_q2hb1p.jpg' : property.images[0].url} className=\"card-img\" alt={`${property.address}`} />\r\n                                        </div>\r\n                                        <div className=\"col-6 col-sm-12 col-lg-5 px-2 mt-2\">\r\n                                            <h6><strong>{property.available === true ? 'Available' : 'Not Available'}</strong></h6>\r\n                                            <h6><strong>Rent: </strong>{property.available === true ? `$${property.rent}` : 'N/A'}</h6>\r\n                                            <h6><strong>Size: </strong>{property.size} Sq Ft</h6>\r\n                                            <h6><strong>Beds: </strong>{property.beds}</h6>\r\n                                            <h6><strong>Baths: </strong>{property.baths}</h6>\r\n                                            {windowSize[0] >= 1700 && (\r\n                                                <div className='xxl-btns'>\r\n                                                    <Link className='btn btn-primary w-100 col-12' to={`/properties/${property._id}`}>More Info</Link>\r\n                                                    <button className='btn mt-2 outline col-12' onClick={changeSelected(null)}>Reset Selected</button>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                    {windowSize[0] < 1700 && (\r\n                                        <div className='row form-row'>\r\n                                            <button className='btn outline mt-1 col-6 col-sm-12 col-md-6' onClick={changeSelected(null)}>Reset Selected</button>\r\n                                            <Link className='btn btn-primary mt-1 w-100 col-6 col-sm-12 col-md-6' to={`/properties/${property._id}`}>More Info</Link>   \r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            );\r\n                        } else {\r\n                            return null;\r\n                        }\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Properties;","import React, {useState, useEffect} from 'react';\r\nimport {readProperty} from './apiProperties';\r\n\r\nconst Property = ({match}) => {\r\n    const [property, setProperty] = useState({});\r\n    const [error, setError] = useState('');\r\n\r\n    const getProperty = propertyId => {\r\n        readProperty(propertyId).then((data, err) => {\r\n            if(err || !data) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                setError('');\r\n                setProperty(data[0]);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getProperty(match.params.propertyId);\r\n    }, [match.params.propertyId]);\r\n\r\n    const showImages = () => (\r\n        <div id=\"carouselExampleIndicators\" className=\"carousel slide\" data-ride=\"carousel\">\r\n            <div className=\"carousel-inner\">\r\n                {property.images.length > 0 ? property.images.map((image, i) => {\r\n                    return i === 0 ? (\r\n                        <div key={i} className=\"carousel-item active no-border\">\r\n                            <img src={`${image.url}`} className=\"d-block w-100\" alt=\"...\" />\r\n                        </div>\r\n                    ) : (\r\n                        <div key={i} className=\"carousel-item no-border\">\r\n                            <img src={`${image.url}`} className=\"d-block w-100\" alt=\"...\" />\r\n                        </div>\r\n                    );\r\n                }) : (\r\n                    <div className=\"carousel-item active no-border\">\r\n                        <img src='https://res.cloudinary.com/njah-properties/image/upload/v1587054014/njah_properties/comingsoon_q2hb1p.jpg' className=\"d-block w-100\" alt=\"...\" />\r\n                    </div>\r\n                )}\r\n                <a className=\"carousel-control-prev\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"prev\">\r\n                    <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                    <span className=\"sr-only\">Previous</span>\r\n                </a>\r\n                <a className=\"carousel-control-next\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"next\">\r\n                    <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                    <span className=\"sr-only\">Next</span>\r\n                </a>\r\n            </div>\r\n            <ol className=\"carousel-indicators row\">\r\n                {property.images.length > 0 && property.images.map((image, i) => {\r\n                    return i === 0 ? (\r\n                        <li className='col-2 px-0 mb-0 active' key={i} data-target=\"#carouselExampleIndicators\" data-slide-to={i}>\r\n                            <img src={`${image.url}`} className=\"d-block w-100 h-100\" alt=\"...\" />\r\n                        </li>\r\n                    ) : (\r\n                        <li className='col-2 px-0 mb-0' key={i} data-target=\"#carouselExampleIndicators\" data-slide-to={i}>\r\n                            <img src={`${image.url}`} className=\"d-block w-100 h-100\" alt=\"...\" />\r\n                        </li>\r\n                    );\r\n                })}\r\n            </ol>\r\n        </div>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='text-primary my-4'>\r\n            <div className='container'>\r\n                <br />\r\n                {showError()}\r\n                {property._id && (\r\n                    <div className='row'>\r\n                        <div className='col-sm-12 col-lg-8 order-1 order-lg-0'>\r\n                            {showImages()}\r\n                        </div>\r\n                        <div className='col-sm-12 col-lg-4 order-0 order-lg-1'>\r\n                            <h2><strong>{property.address}{property.address2 ? `, ${property.address2}` : null}</strong></h2>\r\n                            <h4><em>{property.city}, {property.state}, {property.zip}</em></h4>\r\n                            <hr />\r\n                            <h6><strong>{property.available === true ? 'Available' : 'Not Available'}</strong></h6>\r\n                            <h6><strong>Rent:</strong> {property.available === true ? `$${property.rent}` : 'N/A'}</h6>\r\n                            <h6><strong>Size:</strong> {property.size} Sq Ft</h6>\r\n                            <h6><strong>Beds:</strong> {property.beds}</h6>\r\n                            <h6><strong>Baths:</strong> {property.baths}</h6>\r\n                            <h6><strong>Additional Info:</strong></h6>\r\n                            <p>{property.info}</p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Property;","import React, {useState} from 'react';\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport {signin, authenticate} from './apiAuth';\r\n\r\nconst Signin = () => {\r\n    const [values, setValues] = useState({\r\n        email: '',\r\n        password: '',\r\n        success: false,\r\n        error: ''\r\n    });\r\n    const {email, password, success, error} = values;\r\n\r\n    const onChange = valueProp => event => {\r\n        setValues({...values, [valueProp]: event.target.value, error: ''});\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        signin({email, password}).then(data => {\r\n            if(!data) {\r\n                setValues({...values, error: 'Oops! Something went wrong.'});\r\n            } else {\r\n                if(data.error) {\r\n                    setValues({...values, error: data.error});\r\n                } else {\r\n                    authenticate(data, () => {\r\n                        setValues({...values, success: true, error: ''});\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const signinForm = () => (\r\n        <form className='mt-3'>\r\n            <div className='form-group'>\r\n                <label htmlFor='email'>Email Address</label>\r\n                <input onChange={onChange('email')} value={email} type='email' className='form-control text-primary' id='email' aria-describedby='email' />\r\n            </div>\r\n            <div className='form-group'>\r\n                <label htmlFor='password'>Password</label>\r\n                <input onChange={onChange('password')} value={password} type='password' className='form-control text-primary' id='password' />\r\n            </div>\r\n            <div className='text-center'>\r\n                <button onClick={onSubmit} type='submit' className='btn btn-primary'>Sign In</button>\r\n                <Link className='mt-4 d-block' to={`/password/reset`}>\r\n                    Forgot Password?\r\n                </Link>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const successRedirect = () => success ? (\r\n        <Redirect to='/dashboard' />\r\n    ) : null;\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n            {error === 'Password is incorrect.' && (\r\n                <Link to={`/password/reset`}>\r\n                    &nbsp;Forgot Password?\r\n                </Link>\r\n            )}\r\n        </div>\r\n    );\r\n    \r\n    return (\r\n        <div className='text-primary my-5'>\r\n            <div className='container'>\r\n                <h1 className='text-center'>Sign In</h1>\r\n                <hr />\r\n                {successRedirect()}\r\n                {showError()}\r\n                {signinForm()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Signin;","import React, {useState} from 'react';\r\nimport {forgotPassword} from './apiAuth';\r\n\r\nconst ForgotPassword = () => {\r\n    const [values, setValues] = useState({\r\n        email: '',\r\n        error: '',\r\n        success: false\r\n    });\r\n    const {email, error, success} = values;\r\n\r\n    const onChange = valueProp => event => {\r\n        setValues({...values, [valueProp]: event.target.value, error: ''});\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({...values, error: ''});\r\n        forgotPassword(email).then((data, err) => {\r\n            if(!data || err) {\r\n                setValues({...values, error: 'Oops! Something went wrong.'});\r\n            } else {\r\n                if(data.error) {\r\n                    setValues({...values, error: data.error});\r\n                } else {\r\n                    setValues({...values, success: true});\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const signinForm = () => (\r\n        <form>\r\n            <div className='form-group'>\r\n                <label htmlFor='email'>Email Address</label>\r\n                <input onChange={onChange('email')} value={email} type='email' className='form-control' id='email' aria-describedby='email' />\r\n            </div>\r\n            <div className='text-center'>\r\n                <button onClick={onSubmit} type='submit' className='btn btn-primary mb-3'>Reset Password</button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            You will receive an email shortly with instructions for resetting your password.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='text-primary my-5'>\r\n            <div className='container'>\r\n                <h1 className='text-center'>Password Reset</h1>\r\n                <hr />\r\n                {showError()}\r\n                {showSuccess()}\r\n                {signinForm()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForgotPassword;","const API = process.env.REACT_APP_API_URL;\r\n\r\nexport const readCurrentUser = token => {\r\n    return fetch(`${API}/user/read/current`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const readAllUsers = token => {\r\n    return fetch(`${API}/user/read/all`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const updateUser = (token, user) => {\r\n    return fetch(`${API}/user/update/${user._id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const deleteUser = (token, user) => {\r\n    return fetch(`${API}/user/delete/${user._id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const createProperty = (token, property) => {\r\n    return fetch(`${API}/property/create`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: property\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const readAllMessages = token => {\r\n    return fetch(`${API}/contact/read/all`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const readMyMessages = token => {\r\n    return fetch(`${API}/contact/read/current`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const readMessagesWithQuery = query => {\r\n    return fetch(`${API}/contact/read/query?${query}`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const createForm = (token, data) => {\r\n    return fetch(`${API}/form/create`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: data\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const deleteForm = (token, form) => {\r\n    return fetch(`${API}/form/delete/${form._id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(form)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const deleteProperty = (token, property) => {\r\n    return fetch(`${API}/property/delete/${property._id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(property)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const updateProperty = (token, property) => {\r\n    return fetch(`${API}/property/update/${property._id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(property)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const deleteContact = (token, contactId) => {\r\n    return fetch(`${API}/contact/delete/${contactId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const updateSelf = (token, user) => {\r\n    return fetch(`${API}/user/update/self/${user._id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(user)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const uploadFile = (token, userId, data) => {\r\n    return fetch(`${API}/user/upload/file/${userId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: data\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const getClientToken = (token) => {\r\n    return fetch(`${API}/braintree/token`, {\r\n        method: 'GET',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};\r\n\r\nexport const processPayment = (token, userId, paymentData) => {\r\n    return fetch(`${API}/braintree/payment/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(paymentData)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err)\r\n    });\r\n};","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\nconst UserInfo = ({user}) => {\r\n    const {first_name, last_name, email, phone, property, createdAt, updatedAt} = user;\r\n\r\n    const showUserInfo = () => (\r\n        <div className='fix-info'>\r\n            <div className='d-none d-lg-block'>\r\n                <div className='row'>\r\n                    <div className='col-6 fix-heading'>\r\n                        <h1 className='mt-4'>My Info</h1>\r\n                    </div>\r\n                    {property && (\r\n                        <div className='col-6'>\r\n                            <h1 className='mt-4'>My Property</h1>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <hr className='fix-heading' />\r\n                <div className='row'>\r\n                    <div className='col-6'>\r\n                        <h6 className='form-group row'>\r\n                            <label className='col-sm-4 col-form-label'><strong>First Name</strong></label>\r\n                            <div className='col-sm-8'>\r\n                                <span className='form-control-plaintext text-primary'>{first_name}</span>\r\n                            </div>\r\n                        </h6>\r\n                        <h6 className='form-group row'>\r\n                            <label className='col-sm-4 col-form-label'><strong>Last Name</strong></label>\r\n                            <div className='col-sm-8'>\r\n                                <span className='form-control-plaintext text-primary'>{last_name}</span>\r\n                            </div>\r\n                        </h6>\r\n                        <h6 className='form-group row'>\r\n                            <label className='col-sm-4 col-form-label'><strong>Email</strong></label>\r\n                            <div className='col-sm-8'>\r\n                                <span className='form-control-plaintext text-primary'>{email}</span>\r\n                            </div>\r\n                        </h6>\r\n                        <h6 className='form-group row'>\r\n                            <label className='col-sm-4 col-form-label'><strong>Phone</strong></label>\r\n                            <div className='col-sm-8'>\r\n                                <span className='form-control-plaintext text-primary'>{phone}</span>\r\n                            </div>\r\n                        </h6>\r\n                        <h6 className='form-group row'>\r\n                            <label className='col-sm-4 col-form-label'><strong>Joined</strong></label>\r\n                            <div className='col-sm-8'>\r\n                                <span className='form-control-plaintext text-primary'>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</span>\r\n                            </div>\r\n                        </h6>\r\n                        <h6 className='form-group row'>\r\n                            <label className='col-sm-4 col-form-label'><strong>Last Updated</strong></label>\r\n                            <div className='col-sm-8'>\r\n                                <span className='form-control-plaintext text-primary'>{moment(updatedAt).format('MMMM Do YYYY, h:mm:ss a')}</span>\r\n                            </div>\r\n                        </h6>\r\n                    </div>\r\n                    {property && (\r\n                        <div className='col-6'>\r\n                            <h6 className='form-group row'>\r\n                                <label className='col-sm-4 col-form-label'><strong>Address</strong></label>\r\n                                <div className='col-sm-8'>\r\n                                    <span className='form-control-plaintext text-primary'>{property.address}{property.address2 ? `, ${property.address2}` : null}, {property.city}, {property.state}, {property.zip}</span>\r\n                                </div>\r\n                            </h6>\r\n                            <h6 className='form-group row'>\r\n                                <label className='col-sm-4 col-form-label'><strong>Rent</strong></label>\r\n                                <div className='col-sm-8'>\r\n                                    <span className='form-control-plaintext text-primary'>${property.rent}</span>\r\n                                </div>\r\n                            </h6>\r\n                            <h6 className='form-group row'>\r\n                                <label className='col-sm-4 col-form-label'><strong>Size</strong></label>\r\n                                <div className='col-sm-8'>\r\n                                    <span className='form-control-plaintext text-primary'>{property.size} Sq Ft</span>\r\n                                </div>\r\n                            </h6>\r\n                            <h6 className='form-group row'>\r\n                                <label className='col-sm-4 col-form-label'><strong>Beds</strong></label>\r\n                                <div className='col-sm-8'>\r\n                                    <span className='form-control-plaintext text-primary'>{property.beds}</span>\r\n                                </div>\r\n                            </h6>\r\n                            <h6 className='form-group row'>\r\n                                <label className='col-sm-4 col-form-label'><strong>Baths</strong></label>\r\n                                <div className='col-sm-8'>\r\n                                    <span className='form-control-plaintext text-primary'>{property.baths}</span>\r\n                                </div>\r\n                            </h6>\r\n                            <h6 className='form-group row'>\r\n                                <label className='col-sm-12 col-form-label text-center'><Link to={`/properties/${property._id}`}><strong>View My Property's Page</strong></Link></label>\r\n                            </h6>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            <div className='d-block d-lg-none'>\r\n                <h1 className='mt-4'>My Info</h1>\r\n                <hr />\r\n                <div className='row'>\r\n                    <div className='col-12'>\r\n                        <h6 className='form-group row'>\r\n                            <label className='col-sm-4 col-form-label'><strong>First Name</strong></label>\r\n                            <div className='col-sm-8'>\r\n                                <span className='form-control-plaintext text-primary'>{first_name}</span>\r\n                            </div>\r\n                        </h6>\r\n                        <h6 className='form-group row'>\r\n                            <label className='col-sm-4 col-form-label'><strong>Last Name</strong></label>\r\n                            <div className='col-sm-8'>\r\n                                <span className='form-control-plaintext text-primary'>{last_name}</span>\r\n                            </div>\r\n                        </h6>\r\n                        <h6 className='form-group row'>\r\n                            <label className='col-sm-4 col-form-label'><strong>Email</strong></label>\r\n                            <div className='col-sm-8'>\r\n                                <span className='form-control-plaintext text-primary'>{email}</span>\r\n                            </div>\r\n                        </h6>\r\n                        <h6 className='form-group row'>\r\n                            <label className='col-sm-4 col-form-label'><strong>Phone</strong></label>\r\n                            <div className='col-sm-8'>\r\n                                <span className='form-control-plaintext text-primary'>{phone}</span>\r\n                            </div>\r\n                        </h6>\r\n                        <h6 className='form-group row'>\r\n                            <label className='col-sm-4 col-form-label'><strong>Joined</strong></label>\r\n                            <div className='col-sm-8'>\r\n                                <span className='form-control-plaintext text-primary'>{moment(createdAt).format('MMMM Do YYYY, h:mm:ss a')}</span>\r\n                            </div>\r\n                        </h6>\r\n                        <h6 className='form-group row'>\r\n                            <label className='col-sm-4 col-form-label'><strong>Last Updated</strong></label>\r\n                            <div className='col-sm-8'>\r\n                                <span className='form-control-plaintext text-primary'>{moment(updatedAt).format('MMMM Do YYYY, h:mm:ss a')}</span>\r\n                            </div>\r\n                        </h6>\r\n                    </div>\r\n                </div>\r\n                {property && (\r\n                    <>\r\n                        <h1 className='mt-4'>My Property</h1>\r\n                        <hr />\r\n                        <div className='row'>\r\n                            <div className='col-12'>\r\n                                <h6 className='form-group row'>\r\n                                    <label className='col-sm-4 col-form-label'><strong>Address</strong></label>\r\n                                    <div className='col-sm-8'>\r\n                                        <span className='form-control-plaintext text-primary'>{property.address}, {property.city}, {property.state}, {property.zip}</span>\r\n                                    </div>\r\n                                </h6>\r\n                                <h6 className='form-group row'>\r\n                                    <label className='col-sm-4 col-form-label'><strong>Rent</strong></label>\r\n                                    <div className='col-sm-8'>\r\n                                        <span className='form-control-plaintext text-primary'>${property.rent}</span>\r\n                                    </div>\r\n                                </h6>\r\n                                <h6 className='form-group row'>\r\n                                    <label className='col-sm-4 col-form-label'><strong>Size</strong></label>\r\n                                    <div className='col-sm-8'>\r\n                                        <span className='form-control-plaintext text-primary'>{property.size} Sq Ft</span>\r\n                                    </div>\r\n                                </h6>\r\n                                <h6 className='form-group row'>\r\n                                    <label className='col-sm-4 col-form-label'><strong>Beds</strong></label>\r\n                                    <div className='col-sm-8'>\r\n                                        <span className='form-control-plaintext text-primary'>{property.beds}</span>\r\n                                    </div>\r\n                                </h6>\r\n                                <h6 className='form-group row'>\r\n                                    <label className='col-sm-4 col-form-label'><strong>Baths</strong></label>\r\n                                    <div className='col-sm-8'>\r\n                                        <span className='form-control-plaintext text-primary'>{property.baths}</span>\r\n                                    </div>\r\n                                </h6>\r\n                                <h6 className='form-group row'>\r\n                                    <label className='col-sm-12 col-form-label text-center'><Link to={`/properties/${property._id}`}><strong>View My Property's Page</strong></Link></label>\r\n                                </h6>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            {showUserInfo()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserInfo;","import React from 'react';\r\n\r\nconst UserDocuments = ({user}) => {\r\n    const {files} = user;\r\n\r\n    const showUserFiles = () => (\r\n        <div className='fix-info'>\r\n            {files.map((file, i) => (\r\n                <div key={i}>\r\n                    <a href={`${file.url}`} target='_blank' rel=\"noopener noreferrer\">{file.name}</a>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='my-4'>\r\n            <div className='row'>\r\n                <div className='col-auto'>\r\n                    <h1>My Documents</h1>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            {showUserFiles()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserDocuments;","import React, {useState, useEffect} from 'react';\r\nimport {updateSelf} from './apiUsers';\r\nimport {isAuth} from '../auth/apiAuth';\r\n\r\nconst UpdateSelf = ({user}) => {\r\n    const [updatedUser, setUpdatedUser] = useState({\r\n        _id: '',\r\n        first_name: '',\r\n        last_name: '',\r\n        email: '',\r\n        phone: '',\r\n        password: '',\r\n        confirm_password: ''\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const {first_name, last_name, email, phone, password, confirm_password} = updatedUser;\r\n    const {token} = isAuth();\r\n\r\n    useEffect(() => {\r\n        setUpdatedUser({\r\n            _id: user._id,\r\n            first_name: user.first_name,\r\n            last_name: user.last_name,\r\n            email: user.email,\r\n            phone: user.phone,\r\n            password: '',\r\n            confirm_password: ''\r\n        });\r\n    }, [user]);\r\n\r\n    const onChange = selected => event => {\r\n        setError('');\r\n        setSuccess(false);\r\n        setUpdatedUser({...updatedUser, [selected]: event.target.value});\r\n    };\r\n\r\n    const submitUpdate = event => {\r\n        event.preventDefault();\r\n        setError('');\r\n        if(password !== confirm_password) {\r\n            setError('Passwords must match.');\r\n        } else {\r\n            updateSelf(token, updatedUser).then((data, err) => {\r\n                if(err || !data) {\r\n                    setError('Oops! Something went wrong.');\r\n                } else {\r\n                    if(data.err) {\r\n                        setError(data.err);\r\n                    } else {\r\n                        setUpdatedUser({...updatedUser, password: '', confirm_password: ''});\r\n                        setSuccess(true);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const showUserInfo = () => (\r\n        <form className='mt-3'>\r\n            <div className='row mr-1'>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"first_name\" className=\"col-sm-3 col-form-label\"><strong>First Name</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={onChange('first_name')} type=\"text\" className=\"form-control text-primary\" id=\"first_name\" value={first_name} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"last_name\" className=\"col-sm-3 col-form-label\"><strong>Last Name</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={onChange('last_name')} type=\"text\" className=\"form-control text-primary\" id=\"last_name\" value={last_name} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"email\" className=\"col-sm-3 col-form-label\"><strong>Email</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={onChange('email')} type=\"email\" className=\"form-control text-primary\" id=\"email\" value={email} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"phone\" className=\"col-sm-3 col-form-label\"><strong>Phone</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={onChange('phone')} type=\"text\" className=\"form-control text-primary\" id=\"phone\" value={phone} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"password\" className=\"col-sm-3 col-form-label\"><strong>New Password</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={onChange('password')} autoComplete=\"new-password\" type=\"password\" className=\"form-control text-primary\" id=\"password\" value={password} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"confirm_password\" className=\"col-sm-3 col-form-label\"><strong>Confirm New Password</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={onChange('confirm_password')} type=\"password\" className=\"form-control text-primary\" id=\"confirm_password\" value={confirm_password} />\r\n                    </div>\r\n                </div>\r\n                <div className='col-12 text-center'>\r\n                    <button onClick={submitUpdate} type='submit' className='btn btn-primary'>Update My Info</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            Your info was successfully updated.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='my-4'>\r\n            <div className='row'>\r\n                <div className='col-auto'>\r\n                    <h1>Update My Info</h1>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            {showError()}\r\n            {showSuccess()}\r\n            {showUserInfo()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UpdateSelf;","import React, {useState} from 'react';\r\nimport {createForm} from '../apiUsers';\r\nimport {isAuth} from '../../auth/apiAuth';\r\n\r\nconst ManageForms = () => {\r\n    const [newForm, setNewForm] = useState({\r\n        name: '',\r\n        file: '',\r\n        formData: new FormData()\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const {name, formData} = newForm;\r\n    const {token} = isAuth();\r\n\r\n    const onChange = selected => event => {\r\n        let value = selected === 'file' ? event.target.files[0] : event.target.value;\r\n        setError('');\r\n        setSuccess(false);\r\n        setNewForm({...newForm, [selected]: value});\r\n        formData.set(selected, value);\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        if(!isFileSelected(0)) {\r\n            return setError('You must attach a file.');\r\n        }\r\n        createForm(token, formData).then((data, err) => {\r\n            if(!data || err) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(data.err) {\r\n                    setError(data.err);\r\n                } else {\r\n                    setNewForm({\r\n                        name: '',\r\n                        file: '',\r\n                        formData: new FormData()\r\n                    });\r\n                    document.getElementById(\"file\").value = null;\r\n                    setError('');\r\n                    setSuccess(true);\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const isFileSelected = i => {\r\n        if(document.getElementsByClassName('file')[i]) {\r\n            let inputIndex = document.getElementsByClassName('file')[i].value;\r\n            return inputIndex.length > 0 ? true : false;\r\n        }\r\n    };\r\n\r\n    const contactForm = () => (\r\n        <form encType=\"multipart/form-data\">\r\n            <div className='row mr-1'>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"name\" className=\"col-sm-3 col-form-label\"><strong>Name</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={onChange('name')} type=\"text\" className=\"form-control\" id=\"name\" value={name} />\r\n                    </div>\r\n                </div>\r\n                <div className='form-group col-12 row form-row'>\r\n                    <label htmlFor='file' className=\"col-sm-3 col-form-label\"><strong>Upload File</strong></label>\r\n                    <div className='col-sm-9'>\r\n                        {isFileSelected(0) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                        <input onChange={onChange('file')} type='file' accept='*' id='file' className='mt-1 text-primary file' />\r\n                    </div>\r\n                </div>\r\n                <div className='w-100 text-center'>\r\n                    <button onClick={onSubmit} type='submit' className='btn btn-primary'>Add Form</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            Form was successfully added.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <h1 className='my-4'>Add Form</h1>\r\n            <hr />\r\n            {showError()}\r\n            {showSuccess()}\r\n            {contactForm()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ManageForms;","import React, {useState, useEffect} from 'react';\r\nimport {deleteForm} from '../apiUsers';\r\nimport {readAllForms} from '../../core/apiContact';\r\nimport {isAuth} from '../../auth/apiAuth';\r\n\r\nconst RemoveForms = () => {\r\n    const [forms, setForms] = useState([]);\r\n    const [selectedForm, setSelectedForm] = useState({\r\n        _id: '',\r\n        name: '',\r\n        file: {}\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const {token} = isAuth();\r\n\r\n    const getAllForms = () => {\r\n        readAllForms().then((data, err) => {\r\n            if(!data || err) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                setForms(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getAllForms();\r\n    }, []);\r\n\r\n    const selectForm = event => {\r\n        let selectedId = event.target.value;\r\n        setSuccess(false);\r\n        setError('');\r\n        forms.forEach((form) => {\r\n            if(selectedId === '-1') {\r\n                setSelectedForm({\r\n                    _id: '',\r\n                    name: '',\r\n                    file: {}\r\n                });\r\n            }\r\n            if(form._id === selectedId) {\r\n                setSelectedForm({\r\n                    _id: form._id,\r\n                    name: form.name,\r\n                    file: form.file\r\n                });\r\n                return;\r\n            }\r\n        });\r\n    };\r\n\r\n    const showAllFormsDropdown = () => (\r\n        <form>\r\n            <div className='row mr-1'>\r\n                <div className=\"form-group col-auto row form-row\">\r\n                    <label className=\"col-sm-auto col-form-label mr-2\" htmlFor=\"selectForm\"><strong>Select Form</strong></label>\r\n                    <div className=\"col-sm-auto\">\r\n                        <select value={selectedForm._id} onChange={selectForm} className=\"form-control text-primary\" id=\"selectForm\">\r\n                            <option value='-1'>Select Form</option>\r\n                            {forms.map((form, i) => (\r\n                                <option value={form._id} key={i}>{form.name}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                {selectedForm._id.length > 0 && (\r\n                    <div className='form-group col-auto row form-row'>\r\n                        <label className=\"col-sm-auto col-form-label mr-2\" htmlFor=\"selectForm\"><strong>Is this the right form?</strong></label>\r\n                        <div className=\"col-sm-auto\">\r\n                            <h6><a href={`${selectedForm.file.url}`} className='form-control text-primary' target='_blank' rel=\"noopener noreferrer\">{selectedForm.name}</a></h6>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                <div className='col-12 text-center'>\r\n                    <button onClick={deleteFormClick} className='btn btn-danger'>Remove Form</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const deleteFormClick = event => {\r\n        event.preventDefault();\r\n        setError('');\r\n        if(selectedForm._id) {\r\n            const confirmDelete = window.confirm('Are you sure you want to delete this form? This process cannot be undone.');\r\n            if(confirmDelete) {\r\n                deleteForm(token, selectedForm).then((data, err) => {\r\n                    if(!data || err) {\r\n                        setError('Oops! Something went wrong.');\r\n                    } else {\r\n                        if(data.error) {\r\n                            setError(data.error);\r\n                        } else {\r\n                            getAllForms();\r\n                            setSelectedForm({\r\n                                _id: '',\r\n                                name: '',\r\n                                file: ''\r\n                            });\r\n                            setSuccess(true);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            setError('You must select a form.');\r\n        }\r\n    }\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            Form was successfully deleted.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <h1 className='my-4'>Remove Form</h1>\r\n            <hr />\r\n            {showError()}\r\n            {showSuccess()}\r\n            {showAllFormsDropdown()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RemoveForms;","import React, {useState} from 'react';\r\nimport {signup, isAuth} from '../../auth/apiAuth';\r\n\r\nconst Signup = () => {\r\n    const [user, setUser] = useState({\r\n        first_name: '',\r\n        last_name: '',\r\n        email: '',\r\n        phone: ''\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const {first_name, last_name, email, phone} = user;\r\n    const {token} = isAuth();\r\n\r\n    const onChange = selected => event => {\r\n        setUser({...user, [selected]: event.target.value});\r\n        setError('');\r\n        setSuccess(false);\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setError('');\r\n        signup(token, {first_name, last_name, email, phone}).then((data, err) => {\r\n            if(!data || err) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(data.err) {\r\n                    setError(data.err);\r\n                } else {\r\n                    setUser({\r\n                        first_name: '',\r\n                        last_name: '',\r\n                        email: '',\r\n                        phone: ''\r\n                    });\r\n                    setSuccess(true);\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const signupForm = () => (\r\n        <form className='mt-3'>\r\n            <div className='row mr-1'>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"first_name\" className=\"col-sm-3 col-form-label\"><strong>First Name</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={onChange('first_name')} type=\"text\" className=\"form-control text-primary\" id=\"first_name\" value={first_name} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"last_name\" className=\"col-sm-3 col-form-label\"><strong>Last Name</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={onChange('last_name')} type=\"text\" className=\"form-control text-primary\" id=\"last_name\" value={last_name} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"email\" className=\"col-sm-3 col-form-label\"><strong>Email</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={onChange('email')} type=\"email\" className=\"form-control text-primary\" id=\"email\" value={email} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"phone\" className=\"col-sm-3 col-form-label\"><strong>Phone</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={onChange('phone')} type=\"text\" className=\"form-control text-primary\" id=\"phone\" value={phone} />\r\n                    </div>\r\n                </div>\r\n                <div className='col-12 text-center'>\r\n                    <button onClick={onSubmit} type='submit' className='btn btn-primary'>Add Resident</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            Resident was successfully added.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='my-4'>\r\n            <div className='row'>\r\n                <div className='col-auto'>\r\n                    <h1>Add Resident</h1>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            {showError()}\r\n            {showSuccess()}\r\n            {signupForm()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Signup;","import React, {useState, useEffect, useCallback} from 'react';\r\nimport moment from 'moment';\r\nimport {readAllUsers, updateUser, deleteUser} from '../apiUsers';\r\nimport {readAllProperties} from '../../properties/apiProperties';\r\nimport {isAuth} from '../../auth/apiAuth';\r\n\r\nconst ManageResidents = () => {\r\n    const [users, setUsers] = useState([]);\r\n    const [selectedUser, setSelectedUser] = useState({\r\n        _id: '',\r\n        first_name: '',\r\n        last_name: '',\r\n        email: '',\r\n        phone: '',\r\n        role: '',\r\n        property: '',\r\n        createdAt: '',\r\n        updatedAt: ''\r\n    });\r\n    const [properties, setProperties] = useState([]);\r\n    const [selectedProperty, setSelectedProperty] = useState({\r\n        _id: '',\r\n        address: '',\r\n        city: '',\r\n        state: '',\r\n        zip: ''\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const {_id, first_name, last_name, email, phone, property, createdAt, updatedAt} = selectedUser;\r\n    const {token} = isAuth();\r\n\r\n    const getAllProperties = () => {\r\n        readAllProperties().then((data, err) => {\r\n            if(err || !data) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                setError('');\r\n                setProperties(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const getAllUsers = useCallback(() => {\r\n        readAllUsers(token).then((data, err) => {\r\n            if(err || !data) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                setError('');\r\n                setUsers(data);\r\n            }\r\n        });\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        getAllUsers();\r\n        getAllProperties();\r\n    }, [getAllUsers]);\r\n\r\n    const selectProperty = event => {\r\n        let selectedId = event.target.value;\r\n        properties.forEach((property) => {\r\n            if(selectedId === '-1') {\r\n                setSelectedProperty({\r\n                    _id: '',\r\n                    address: '',\r\n                    city: '',\r\n                    state: '',\r\n                    zip: ''\r\n                });\r\n            }\r\n            if(property._id === selectedId) {\r\n                setSelectedProperty({\r\n                    _id: property._id,\r\n                    address: property.address,\r\n                    city: property.city,\r\n                    state: property.state,\r\n                    zip: property.zip\r\n                });\r\n                return;\r\n            }\r\n        });\r\n    };\r\n\r\n    const selectUser = event => {\r\n        let selectedId = event.target.value;\r\n        setSuccess(false);\r\n        users.forEach((user) => {\r\n            if(selectedId === '-1') {\r\n                setSelectedUser({\r\n                    _id: '',\r\n                    first_name: '',\r\n                    last_name: '',\r\n                    email: '',\r\n                    phone: '',\r\n                    role: '',\r\n                    property: '',\r\n                    createdAt: '',\r\n                    updatedAt: ''\r\n                });\r\n            }\r\n            if(user._id === selectedId) {\r\n                setSelectedUser({\r\n                    _id: user._id,\r\n                    first_name: user.first_name,\r\n                    last_name: user.last_name,\r\n                    email: user.email,\r\n                    phone: user.phone,\r\n                    role: user.role,\r\n                    property: user.property,\r\n                    createdAt: user.createdAt,\r\n                    updatedAt: user.updatedAt\r\n                });\r\n                return;\r\n            }\r\n        });\r\n    };\r\n\r\n    const changeUserInfo = selected => event => {\r\n        setError('');\r\n        setSuccess(false);\r\n        setSelectedUser({...selectedUser, [selected]: event.target.value});\r\n    };\r\n    \r\n    const updateUserClick = event => {\r\n        event.preventDefault();\r\n        setError('');\r\n        if(selectedUser._id) {\r\n            updateUser(token, selectedUser).then((data, err) => {\r\n                if(err || !data) {\r\n                    setError('Oops! Something went wrong.');\r\n                } else {\r\n                    if(data.err) {\r\n                        setError(data.err);\r\n                    } else {\r\n                        getAllUsers();\r\n                        setSuccess('updated');\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            setError('You must select a resident.');\r\n        }\r\n    };\r\n\r\n    const deleteUserClick = event => {\r\n        event.preventDefault();\r\n        if(selectedUser._id) {\r\n            const confirmDelete = window.confirm('Are you sure you want to delete this resident? This process cannot be undone.');\r\n            if(confirmDelete) {\r\n                deleteUser(token, selectedUser).then((data, err) => {\r\n                    if(err || !data) {\r\n                        setError('Oops! Something went wrong.');\r\n                    } else {\r\n                        if(data.err) {\r\n                            setError(data.err);\r\n                        } else {\r\n                            getAllUsers();\r\n                            setSelectedUser({\r\n                                _id: '',\r\n                                first_name: '',\r\n                                last_name: '',\r\n                                email: '',\r\n                                phone: '',\r\n                                role: '',\r\n                                property: '',\r\n                                createdAt: '',\r\n                                updatedAt: ''\r\n                            });\r\n                            setSuccess('deleted');\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            setError('You must select a resident.');\r\n        }\r\n    };\r\n\r\n    const showSelectedUserInfo = () => (\r\n        <form>\r\n            <div className='row mr-1'>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"user\" className=\"col-sm-auto col-form-label mr-2\"><strong>Which resident would you like to manage?</strong></label>\r\n                    <div className=\"col-sm-auto\">\r\n                        <select value={_id} onChange={selectUser} className=\"form-control text-primary\" id=\"selectUser\">\r\n                            <option value='-1'>Select Resident</option>\r\n                            {users.map((user, i) => (\r\n                                <option value={user._id} key={i}>{user.last_name}, {user.first_name}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"first_name\" className=\"col-sm-3 col-form-label\"><strong>First Name</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changeUserInfo('first_name')} type=\"text\" className=\"form-control text-primary\" id=\"first_name\" value={first_name} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"last_name\" className=\"col-sm-3 col-form-label\"><strong>Last Name</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changeUserInfo('last_name')} type=\"text\" className=\"form-control text-primary\" id=\"last_name\" value={last_name} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"email\" className=\"col-sm-3 col-form-label\"><strong>Email</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changeUserInfo('email')} type=\"email\" className=\"form-control text-primary\" id=\"email\" value={email} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"phone\" className=\"col-sm-3 col-form-label\"><strong>Phone</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changeUserInfo('phone')} type=\"text\" className=\"form-control text-primary\" id=\"phone\" value={phone} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"selectProperty\" className='col-sm-auto col-form-label mr-2'><strong>Which property would you like to assign this resident to?</strong></label>\r\n                    <div className='col-auto'>\r\n                        <select value={property ? property : selectedProperty._id} onChange={selectProperty && changeUserInfo('property')} className=\"form-control text-primary\" id=\"selectProperty\" >\r\n                            <option value='-1'>Select Property (None)</option>\r\n                            {properties.map((property, i) => (\r\n                                <option value={property._id} key={i}>{property.address}, {property.city}, {property.state}, {property.zip}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"createdAt\" className=\"col-sm-3 col-form-label\"><strong>Registered</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input type=\"text\" disabled className=\"form-control text-primary\" id=\"createdAt\" value={createdAt.length > 0 ? moment(createdAt).format('MMMM Do YYYY, h:mm:ss a') : ''} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"updatedAt\" className=\"col-sm-3 col-form-label\"><strong>Last Updated</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input type=\"text\" disabled className=\"form-control text-primary\" id=\"updatedAt\" value={updatedAt.length > 0 ? moment(updatedAt).format('MMMM Do YYYY, h:mm:ss a') : ''} />\r\n                    </div>\r\n                </div>\r\n                <div className='col-12 text-center'>\r\n                    <button onClick={updateUserClick} type='submit' className='btn btn-primary mr-2'>Update User</button>\r\n                    <button onClick={deleteUserClick} className='btn btn-danger ml-2'>Remove User</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            Resident was successfully {success}.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='my-4'>\r\n            <div className='row'>\r\n                <div className='col-auto'>\r\n                    <h1>Manage Residents</h1>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            {showError()}\r\n            {showSuccess()}\r\n            {showSelectedUserInfo()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ManageResidents;","import React, {useState, useEffect, useCallback} from 'react';\r\nimport {readAllUsers, uploadFile} from '../apiUsers';\r\nimport {isAuth} from '../../auth/apiAuth';\r\n\r\nconst ResidentDocuments = () => {\r\n    const [users, setUsers] = useState([]);\r\n    const [selectedUser, setSelectedUser] = useState({\r\n        _id: '',\r\n        first_name: '',\r\n        last_name: ''\r\n    });\r\n    const [newForm, setNewForm] = useState({\r\n        name: '',\r\n        file: '',\r\n        formData: new FormData()\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const {_id} = selectedUser;\r\n    const {name, formData} = newForm;\r\n    const {token} = isAuth();\r\n\r\n    const getAllUsers = useCallback(() => {\r\n        readAllUsers(token).then((data, err) => {\r\n            if(err || !data) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                setError('');\r\n                setUsers(data);\r\n            }\r\n        });\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        getAllUsers();\r\n    }, [getAllUsers]);\r\n\r\n    const selectUser = event => {\r\n        let selectedId = event.target.value;\r\n        setSuccess(false);\r\n        users.forEach((user) => {\r\n            if(selectedId === '-1') {\r\n                setSelectedUser({\r\n                    _id: '',\r\n                    first_name: '',\r\n                    last_name: '',\r\n                    email: '',\r\n                    phone: '',\r\n                    role: '',\r\n                    property: '',\r\n                    createdAt: '',\r\n                    updatedAt: ''\r\n                });\r\n            }\r\n            if(user._id === selectedId) {\r\n                setSelectedUser({\r\n                    _id: user._id,\r\n                    first_name: user.first_name,\r\n                    last_name: user.last_name,\r\n                    email: user.email,\r\n                    phone: user.phone,\r\n                    role: user.role,\r\n                    property: user.property,\r\n                    createdAt: user.createdAt,\r\n                    updatedAt: user.updatedAt\r\n                });\r\n                return;\r\n            }\r\n        });\r\n    };\r\n\r\n    const onFileChange = selected => event => {\r\n        let value = selected === 'file' ? event.target.files[0] : event.target.value;\r\n        setError('');\r\n        setSuccess(false);\r\n        setNewForm({...newForm, [selected]: value});\r\n        formData.set(selected, value);\r\n    };\r\n\r\n    const onFileSubmit = event => {\r\n        event.preventDefault();\r\n        if(!selectedUser._id) {\r\n            return setError('You must select a resident.');\r\n        }\r\n        if(!isFileSelected(0)) {\r\n            return setError('You must attach a file.');\r\n        }\r\n        uploadFile(token, selectedUser._id, formData).then((data, err) => {\r\n            if(!data || err) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(data.err) {\r\n                    setError(data.err);\r\n                } else {\r\n                    setNewForm({\r\n                        name: '',\r\n                        file: '',\r\n                        formData: new FormData()\r\n                    });\r\n                    document.getElementById(\"file\").value = null;\r\n                    setError('');\r\n                    setSuccess(true);\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const isFileSelected = i => {\r\n        if(document.getElementsByClassName('file')[i]) {\r\n            let inputIndex = document.getElementsByClassName('file')[i].value;\r\n            return inputIndex.length > 0 ? true : false;\r\n        }\r\n    };\r\n\r\n    const uploadFileForm = () => (\r\n        <form encType=\"multipart/form-data\">\r\n            <div className='row mr-1'>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"user\" className=\"col-sm-auto col-form-label mr-2\"><strong>Which resident would you like to upload a file for?</strong></label>\r\n                    <div className=\"col-sm-auto\">\r\n                        <select value={_id} onChange={selectUser} className=\"form-control text-primary\" id=\"selectUser\">\r\n                            <option value='-1'>Select Resident</option>\r\n                            {users.map((user, i) => (\r\n                                <option value={user._id} key={i}>{user.last_name}, {user.first_name}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"name\" className=\"col-sm-3 col-form-label\"><strong>Name</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={onFileChange('name')} type=\"text\" className=\"form-control\" id=\"name\" value={name} />\r\n                    </div>\r\n                </div>\r\n                <div className='form-group col-12 row form-row'>\r\n                    <label htmlFor='file' className=\"col-sm-3 col-form-label\"><strong>Upload File</strong></label>\r\n                    <div className='col-sm-9'>\r\n                        {isFileSelected(0) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                        <input onChange={onFileChange('file')} type='file' accept='*' id='file' className='mt-1 text-primary file' />\r\n                    </div>\r\n                </div>\r\n                <div className='w-100 text-center'>\r\n                    <button onClick={onFileSubmit} type='submit' className='btn btn-primary'>Upload File</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            File was successfully uploaded to resident {selectedUser.first_name} {selectedUser.last_name}.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='my-4'>\r\n            <div className='row'>\r\n                <div className='col-auto'>\r\n                    <h1>Upload Resident Files</h1>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            {showError()}\r\n            {showSuccess()}\r\n            {uploadFileForm()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ResidentDocuments;","import React, {useState, useEffect, useCallback} from 'react';\r\nimport {createProperty} from '../apiUsers';\r\nimport {isAuth} from '../../auth/apiAuth';\r\n\r\nconst AddProperties = () => {\r\n    const [images, setImages] = useState([]);\r\n    const [newProperty, setNewProperty] = useState({\r\n        _id: '',\r\n        address: '',\r\n        address2: '',\r\n        city: '',\r\n        state: '',\r\n        zip: '',\r\n        rent: '',\r\n        size: '',\r\n        beds: '',\r\n        baths: '',\r\n        info: '',\r\n        available: false,\r\n        createdAt: '',\r\n        updatedAt: '',\r\n        lat: '',\r\n        long: '',\r\n        formData: new FormData()\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const {address, address2, city, state, zip, rent, size, beds, baths, info, available, formData} = newProperty;\r\n    const {token} = isAuth();\r\n\r\n    const setInitialAvailability = useCallback(() => {\r\n        formData.set('available', false);\r\n    }, [formData]);\r\n\r\n    useEffect(() => {\r\n        setInitialAvailability();\r\n    }, [setInitialAvailability]);\r\n\r\n    const changePropertyInfo = selected => event => {\r\n        setError('');\r\n        setSuccess(false);\r\n        let value = selected.includes('photos') ? event.target.files[0] : event.target.value;\r\n        if(selected.includes('photos')) {\r\n            let target = selected.split(' ')[1];\r\n            let prop = selected.split(' ')[0];\r\n            if(value === undefined || value.length < 1) {\r\n                images.splice(target, 1, null);\r\n                setImages([...images]);\r\n                let photos = formData.getAll('photos');\r\n                photos.splice(target, 1, null);\r\n                photos.map((photo, i) => {\r\n                    if(i === 0) {\r\n                        return formData.set('photos', photo);\r\n                    } else {\r\n                        return formData.append('photos', photo);\r\n                    }\r\n                });\r\n            } else if(target < images.length) {\r\n                images.splice(target, 1, value);\r\n                setImages([...images]);\r\n                let photos = formData.getAll('photos');\r\n                photos.splice(target, 1, value);\r\n                photos.map((photo, i) => {\r\n                    if(i === 0) {\r\n                        return formData.set('photos', photo);\r\n                    } else {\r\n                        return formData.append('photos', photo);\r\n                    }\r\n                });\r\n            } else {\r\n                setImages([...images, value]);\r\n                formData.append(prop, value);\r\n            }\r\n        } else {\r\n            if(selected === 'available') {\r\n                if(value === 'true') {\r\n                    value = true;\r\n                } else {\r\n                    value = false;\r\n                }\r\n            }\r\n            setNewProperty({...newProperty, [selected]: value});\r\n            formData.set(selected, value);\r\n        }\r\n    };\r\n\r\n    const addProperty = event => {\r\n        event.preventDefault();\r\n        setError('');\r\n        createProperty(token, formData).then((returnData, err) => {\r\n            if(!returnData || err) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(returnData.err) {\r\n                    setError(returnData.err);\r\n                } else {\r\n                    [...document.getElementsByClassName(\"input-photos\")].forEach(\r\n                        (element) => {\r\n                            element.value = null;\r\n                        }\r\n                    );\r\n                    setImages([]);\r\n                    setNewProperty({\r\n                        _id: '',\r\n                        address: '',\r\n                        address2: '',\r\n                        city: '',\r\n                        state: '',\r\n                        zip: '',\r\n                        rent: '',\r\n                        size: '',\r\n                        beds: '',\r\n                        baths: '',\r\n                        info: '',\r\n                        available: false,\r\n                        createdAt: '',\r\n                        updatedAt: '',\r\n                        lat: '',\r\n                        long: '',\r\n                        formData: new FormData()\r\n                    });\r\n                    setSuccess(true);\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const isFileSelected = i => {\r\n        if(document.getElementsByClassName('input-photos')[i]) {\r\n            let inputIndex = document.getElementsByClassName('input-photos')[i].value;\r\n            return inputIndex.length > 0 ? true : false;\r\n        }\r\n    }\r\n\r\n    const showSelectedPropertyInfo = () => (\r\n        <form encType=\"multipart/form-data\">\r\n            <div className='row mr-1'>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"address\" className=\"col-sm-3 col-form-label\"><strong>Address</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('address')} type=\"text\" className=\"form-control text-primary\" id=\"address\" value={address} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"address2\" className=\"col-sm-3 col-form-label\"><strong>Address 2</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('address2')} type=\"text\" className=\"form-control text-primary\" id=\"address2\" value={address2} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"city\" className=\"col-sm-3 col-form-label\"><strong>City</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('city')} type=\"text\" className=\"form-control text-primary\" id=\"city\" value={city} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"state\" className=\"col-sm-3 col-form-label\"><strong>State</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('state')} type=\"text\" className=\"form-control text-primary\" id=\"state\" value={state} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"zip\" className=\"col-sm-3 col-form-label\"><strong>Zip</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('zip')} type=\"text\" className=\"form-control text-primary\" id=\"zip\" value={zip} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"rent\" className=\"col-sm-3 col-form-label\"><strong>Rent</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('rent')} type=\"number\" className=\"form-control text-primary\" id=\"rent\" value={rent} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"size\" className=\"col-sm-3 col-form-label\"><strong>Size (Sq Ft)</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('size')} type=\"number\" className=\"form-control text-primary\" id=\"size\" value={size} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"beds\" className=\"col-sm-3 col-form-label\"><strong>Beds</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('beds')} type=\"number\" className=\"form-control text-primary\" id=\"beds\" value={beds} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"baths\" className=\"col-sm-3 col-form-label\"><strong>Baths</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('baths')} type=\"number\" className=\"form-control text-primary\" id=\"baths\" value={baths} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"info\" className=\"col-12 col-form-label\"><strong>Additional Info - <small>Feel free to let visitors know anything else you think is important. Be descriptive!</small></strong></label>\r\n                    <div className=\"col-12\">\r\n                        <textarea onChange={changePropertyInfo('info')} className=\"form-control text-primary\" id=\"info\" rows='4' value={info}></textarea>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"available\" className=\"col-sm-auto col-form-label\"><strong>Is this property currently available?</strong></label>\r\n                    <div className=\"col-sm-auto mt-2\">\r\n                        <div className=\"form-check form-check-inline\">\r\n                            <input onChange={changePropertyInfo('available')} checked={available === true ? true : false} className=\"form-check-input\" type=\"radio\" name=\"available\" id=\"availableyes\" value=\"true\" />\r\n                            <label className=\"form-check-label text-primary\" htmlFor=\"availableyes\">Yes</label>\r\n                        </div>\r\n                        <div className=\"form-check form-check-inline\">\r\n                            <input onChange={changePropertyInfo('available')} checked={available === false ? true : false} className=\"form-check-input\" type=\"radio\" name=\"available\" id=\"availableno\" value=\"false\" />\r\n                            <label className=\"form-check-label text-primary\" htmlFor=\"availableno\">No</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor='photos' className=\"col-12 col-form-label\"><strong>Upload Images (Up To 20) - <small>The first image will be the property preview, so we recommend using the front of the property.</small></strong></label>\r\n                    <div className='col-auto'>\r\n                        {isFileSelected(0) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                        <input onChange={changePropertyInfo('photos 0')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                    </div>\r\n                    {images.length > 0 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(1) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 1')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 1 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(2) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 2')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 2 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(3) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 3')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 3 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(4) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 4')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 4 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(5) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 5')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 5 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(6) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 6')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 6 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(7) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 7')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 7 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(8) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 8')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 8 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(9) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 9')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 9 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(10) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 10')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 10 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(11) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 11')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 11 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(12) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 12')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 12 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(13) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 13')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 13 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(14) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 14')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 14 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(15) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 15')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 15 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(16) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 16')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 16 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(17) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 17')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 17 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(18) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 18')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                    {images.length > 18 && (\r\n                        <div className='col-auto'>\r\n                            {isFileSelected(19) ? <i className=\"fas fa-check text-success mr-2\"></i> : <i className=\"fas fa-times text-danger mr-2\"></i>}\r\n                            <input onChange={changePropertyInfo('photos 19')} type='file' accept='image/*' className='input-photos mt-1 text-primary' />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <div className='col-12 text-center'>\r\n                    <button onClick={addProperty} type='submit' className='btn btn-primary'>Create Property</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            Property was successfully added.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='my-4'>\r\n            <div className='row'>\r\n                <div className='col-auto'>\r\n                    <h1>Add Property</h1>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            {showError()}\r\n            {showSuccess()}\r\n            {showSelectedPropertyInfo()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddProperties;","import React, {useState, useEffect} from 'react';\r\nimport moment from 'moment';\r\nimport {deleteProperty, updateProperty} from '../apiUsers';\r\nimport {readAllProperties} from '../../properties/apiProperties';\r\nimport {isAuth} from '../../auth/apiAuth';\r\n\r\nconst ManageProperties = () => {\r\n    const [properties, setProperties] = useState([]);\r\n    const [selectedProperty, setSelectedProperty] = useState({\r\n        _id: '',\r\n        address: '',\r\n        address2: '',\r\n        city: '',\r\n        state: '',\r\n        zip: '',\r\n        rent: '',\r\n        size: '',\r\n        beds: '',\r\n        baths: '',\r\n        info: '',\r\n        available: false,\r\n        createdAt: '',\r\n        updatedAt: '',\r\n        lat: '',\r\n        long: ''\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const {_id, address, address2, city, state, zip, rent, size, beds, baths, info, available, createdAt, updatedAt, long, lat} = selectedProperty;\r\n    const {token} = isAuth();\r\n\r\n    const getAllProperties = () => {\r\n        readAllProperties().then((data, err) => {\r\n            if(err || !data) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                setError('');\r\n                setProperties(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getAllProperties();\r\n    }, []);\r\n\r\n    const selectProperty = event => {\r\n        let selectedId = event.target.value;\r\n        setError('');\r\n        setSuccess(false);\r\n        properties.forEach((property) => {\r\n            if(selectedId === '-1') {\r\n                setSelectedProperty({\r\n                    _id: '',\r\n                    address: '',\r\n                    address2: '',\r\n                    city: '',\r\n                    state: '',\r\n                    zip: '',\r\n                    rent: '',\r\n                    size: '',\r\n                    beds: '',\r\n                    baths: '',\r\n                    info: '',\r\n                    available: false,\r\n                    createdAt: '',\r\n                    updatedAt: '',\r\n                    lat: '',\r\n                    long: ''\r\n                });\r\n            }\r\n            if(property._id === selectedId) {\r\n                setSelectedProperty({\r\n                    _id: property._id,\r\n                    address: property.address,\r\n                    address2: property.address2 ? property.address2 : '',\r\n                    city: property.city,\r\n                    state: property.state,\r\n                    zip: property.zip,\r\n                    rent: property.rent,\r\n                    size: property.size,\r\n                    beds: property.beds,\r\n                    baths: property.baths,\r\n                    info: property.info,\r\n                    available: property.available,\r\n                    createdAt: property.createdAt,\r\n                    updatedAt: property.updatedAt,\r\n                    lat: property.lat,\r\n                    long: property.long\r\n                });\r\n                return;\r\n            }\r\n        });\r\n    };\r\n\r\n    const changePropertyInfo = selected => event => {\r\n        let value = event.target.value;\r\n        if(selected === 'available') {\r\n            if(value === 'true') {\r\n                value = true;\r\n            } else {\r\n                value = false;\r\n            }\r\n        }\r\n        setError('');\r\n        setSuccess(false);\r\n        setSelectedProperty({...selectedProperty, [selected]: value});\r\n    };\r\n\r\n    const updatePropertyClick = event => {\r\n        event.preventDefault();\r\n        if(selectedProperty._id) {\r\n            setError('');\r\n            updateProperty(token, selectedProperty).then((data, err) => {\r\n                if(err || !data) {\r\n                    setError('Oops! Something went wrong.');\r\n                } else {\r\n                    if(data.err) {\r\n                        setError(data.err);\r\n                    } else {\r\n                        getAllProperties();\r\n                        setSuccess('updated');\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            setError('You must select a property.');\r\n        }\r\n    };\r\n\r\n    const deletePropertyClick = event => {\r\n        event.preventDefault();\r\n        if(selectedProperty._id) {\r\n            const confirmDelete = window.confirm('Are you sure you want to delete this property? This process cannot be undone.');\r\n            if(confirmDelete) {\r\n                deleteProperty(token, selectedProperty).then((data, err) => {\r\n                    if(err || !data) {\r\n                        setError('Oops! Something went wrong.');\r\n                    } else {\r\n                        if(data.err) {\r\n                            setError(data.err);\r\n                        } else {\r\n                            getAllProperties();\r\n                            setSelectedProperty({\r\n                                _id: '',\r\n                                address: '',\r\n                                address2: '',\r\n                                city: '',\r\n                                state: '',\r\n                                zip: '',\r\n                                rent: '',\r\n                                size: '',\r\n                                beds: '',\r\n                                baths: '',\r\n                                info: '',\r\n                                available: false,\r\n                                createdAt: '',\r\n                                updatedAt: '',\r\n                                lat: '',\r\n                                long: ''\r\n                            });\r\n                            setSuccess('deleted');\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                setError('You must select a property.');\r\n            }\r\n        }\r\n    };\r\n\r\n    const showSelectedPropertyInfo = () => (\r\n        <form encType=\"multipart/form-data\">\r\n            <div className='row mr-1'>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"property\" className=\"col-sm-auto col-form-label mr-2\"><strong>Which property would you like to manage?</strong></label>\r\n                    <div className=\"col-sm-auto\">\r\n                        <select value={_id} onChange={selectProperty} className=\"form-control text-primary\" id=\"selectProperty\">\r\n                            <option value='-1'>Select Property</option>\r\n                            {properties.map((property, i) => (\r\n                                <option value={property._id} key={i}>{`${property.address}, ${property.address2 ? `${property.address2}, ` : ``} ${property.city}, ${property.state}, ${property.zip}`}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"address\" className=\"col-sm-3 col-form-label\"><strong>Address</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('address')} type=\"text\" className=\"form-control text-primary\" id=\"first_name\" value={address} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"address2\" className=\"col-sm-3 col-form-label\"><strong>Address 2</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('address2')} type=\"text\" className=\"form-control text-primary\" id=\"first_name\" value={address2} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"city\" className=\"col-sm-3 col-form-label\"><strong>City</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('city')} type=\"text\" className=\"form-control text-primary\" id=\"city\" value={city} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"state\" className=\"col-sm-3 col-form-label\"><strong>State</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('state')} type=\"text\" className=\"form-control text-primary\" id=\"state\" value={state} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"zip\" className=\"col-sm-3 col-form-label\"><strong>Zip</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('zip')} type=\"text\" className=\"form-control text-primary\" id=\"zip\" value={zip} />\r\n                    </div>\r\n                </div>\r\n                <div className='col-12 ml-1'><small>Want to make the property more accurate on the map? These values were geocoded when you first added the property, but they aren't always perfect. We don't recommend you change <strong>latitude</strong> or <strong>longitude</strong> unless you know more precise coordinates. This change cannot be undone.</small></div>\r\n                <div className=\"form-group mt-2 col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"id\" className=\"col-sm-3 col-form-label\"><strong>Latitude</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('lat')} type=\"text\" className=\"form-control text-primary\" id=\"id\" value={lat} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group mt-lg-2 col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"id\" className=\"col-sm-3 col-form-label\"><strong>Longitude</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('long')} type=\"text\" className=\"form-control text-primary\" id=\"id\" value={long} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"rent\" className=\"col-sm-3 col-form-label\"><strong>Rent</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('rent')} type=\"number\" className=\"form-control text-primary\" id=\"rent\" value={rent} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"size\" className=\"col-sm-3 col-form-label\"><strong>Size (Sq Ft)</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('size')} type=\"number\" className=\"form-control text-primary\" id=\"size\" value={size} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"beds\" className=\"col-sm-3 col-form-label\"><strong>Beds</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('beds')} type=\"number\" className=\"form-control text-primary\" id=\"beds\" value={beds} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"baths\" className=\"col-sm-3 col-form-label\"><strong>Baths</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input onChange={changePropertyInfo('baths')} type=\"number\" className=\"form-control text-primary\" id=\"baths\" value={baths} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"info\" className=\"col-12 col-form-label\"><strong>Additional Info - <small>Feel free to let visitors know anything else you think is important. Be descriptive!</small></strong></label>\r\n                    <div className=\"col-12\">\r\n                        <textarea onChange={changePropertyInfo('info')} className=\"form-control text-primary\" id=\"info\" rows='4' value={info}></textarea>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor=\"available\" className=\"col-sm-auto col-form-label\"><strong>Is this property currently available?</strong></label>\r\n                    <div className=\"col-sm-auto mt-2\">\r\n                        <div className=\"form-check form-check-inline\">\r\n                            <input onChange={changePropertyInfo('available')} checked={available === true ? true : false} className=\"form-check-input\" type=\"radio\" name=\"available\" id=\"availableyes\" value=\"true\" />\r\n                            <label className=\"form-check-label text-primary\" htmlFor=\"availableyes\">Yes</label>\r\n                        </div>\r\n                        <div className=\"form-check form-check-inline\">\r\n                            <input onChange={changePropertyInfo('available')} checked={available === false ? true : false} className=\"form-check-input\" type=\"radio\" name=\"available\" id=\"availableno\" value=\"false\" />\r\n                            <label className=\"form-check-label text-primary\" htmlFor=\"availableno\">No</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"id\" className=\"col-sm-3 col-form-label\"><strong>Added</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input type=\"text\" disabled className=\"form-control text-primary\" id=\"id\" value={createdAt ? moment(createdAt).format('MMMM Do YYYY, h:mm:ss a') : ''} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group col-12 col-lg-6 row form-row\">\r\n                    <label htmlFor=\"id\" className=\"col-sm-3 col-form-label\"><strong>Updated</strong></label>\r\n                    <div className=\"col-sm-9\">\r\n                        <input type=\"text\" disabled className=\"form-control text-primary\" id=\"id\" value={updatedAt ? moment(updatedAt).format('MMMM Do YYYY, h:mm:ss a') : ''} />\r\n                    </div>\r\n                </div>\r\n                <div className='col-12 text-center'>\r\n                    <button onClick={updatePropertyClick} type='submit' className='btn btn-primary mr-2'>Update Property</button>\r\n                    <button onClick={deletePropertyClick} className='btn btn-danger ml-2'>Remove Property</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            Property was successfully {success}.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='my-4'>\r\n            <div className='row'>\r\n                <div className='col-auto'>\r\n                    <h1>Manage Properties</h1>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            {showError()}\r\n            {showSuccess()}\r\n            {showSelectedPropertyInfo()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ManageProperties;","import React, {useState, useEffect, useCallback} from 'react';\r\nimport moment from 'moment';\r\nimport {readAllMessages, readMessagesWithQuery, readMyMessages, deleteContact} from './apiUsers';\r\nimport {readAllUsers} from './apiUsers';\r\nimport {isAuth} from '../auth/apiAuth';\r\n\r\nconst Messages = ({role}) => {\r\n    const [messages, setMessages] = useState([]);\r\n    const [filteredMessages, setFilteredMessages] = useState([]);\r\n    const [users, setUsers] = useState([]);\r\n    const [filters, setFilters] = useState({\r\n        type: '',\r\n        reason: '',\r\n        user: '',\r\n        sort: ''\r\n    });\r\n    const [error, setError] = useState('');\r\n    const {type, reason, sort, user} = filters;\r\n    const {token} = isAuth();\r\n\r\n    const getMessages = useCallback(() => {\r\n        if(role === 1) {\r\n            readAllMessages(token).then((data, err) => {\r\n                if(!data || err) {\r\n                    setError('Oops! Something went wrong.');\r\n                } else {\r\n                    if(data.error) {\r\n                        setError(data.error);\r\n                    } else {\r\n                        setMessages(data);\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            readMyMessages(token).then((data, err) => {\r\n                if(!data || err) {\r\n                    setError('Oops! Something went wrong.');\r\n                } else {\r\n                    if(data.error) {\r\n                        setError(data.error);\r\n                    } else {\r\n                        setMessages(data);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }, [token, role]);\r\n\r\n    const getAllUsers = useCallback(() => {\r\n        if(role === 1) {\r\n            readAllUsers(token).then(data => {\r\n                setUsers(data);\r\n            });\r\n        }\r\n    }, [token, role]);\r\n\r\n    useEffect(() => {\r\n        getMessages();\r\n        getAllUsers();\r\n    }, [getMessages, getAllUsers]);\r\n\r\n    const changeFilters = selected => event => {\r\n        setError('');\r\n        if(selected === 'type' && reason.length > 0) {\r\n            setFilters({\r\n                ...filters,\r\n                type: event.target.value,\r\n                reason: '',\r\n                sort: ''\r\n            });\r\n        } else {\r\n            setFilters({...filters, [selected]: event.target.value});\r\n        }\r\n    };\r\n\r\n    const submitFilters = event => {\r\n        event.preventDefault();\r\n        let queryString = '';\r\n        for(let filter in filters) {\r\n            if(filters[filter]) {\r\n                if(queryString.length > 0) {\r\n                    if(filter === 'sort') {\r\n                        queryString += `&sortBy=${filters[filter].split(' ')[0]}&order=${filters[filter].split(' ')[1]}`;\r\n                    } else {\r\n                        queryString += `&${filter}=${filters[filter]}`;\r\n                    }\r\n                } else {\r\n                    if(filter === 'sort') {\r\n                        queryString += `sortBy=${filters[filter].split(' ')[0]}&order=${filters[filter].split(' ')[1]}`;\r\n                    } else {\r\n                        queryString += `${filter}=${filters[filter]}`;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        readMessagesWithQuery(queryString).then((data, err) => {\r\n            if(!data || err) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(data.error) {\r\n                    setError(data.error);\r\n                } else {\r\n                    if(data.length === 0) {\r\n                        setError('No messages found.');\r\n                        setFilters({\r\n                            type: '',\r\n                            reason: '',\r\n                            sort: ''\r\n                        });\r\n                    } else {\r\n                        setError('');\r\n                        setFilteredMessages(data);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const resetFilters = event => {\r\n        event.preventDefault();\r\n        setFilters({\r\n            type: '',\r\n            reason: '',\r\n            sort: ''\r\n        });\r\n        setError('');\r\n        setFilteredMessages([]);\r\n    };\r\n\r\n    const deleteMessage = contactId => event => {\r\n        event.preventDefault();\r\n        const confirmDelete = window.confirm('Are you sure you want to delete this message? This process cannot be undone.');\r\n        if(confirmDelete) {\r\n            deleteContact(token, contactId).then((data, err) => {\r\n                if(err || !data) {\r\n                    setError('Oops! Something went wrong.');\r\n                } else {\r\n                    if(data.err) {\r\n                        setError(data.err);\r\n                    } else {\r\n                        getMessages();\r\n                        setError('');\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const showFilters = () => (\r\n        <form className='mt-2'>\r\n            <div className='form-row'>\r\n                <div className='form-group col-auto'>\r\n                    <select value={type} onChange={changeFilters('type')} id=\"type\" className=\"form-control text-primary\">\r\n                        <option value=''>Type (Any)</option>\r\n                        <option value='General'>General Contact</option>\r\n                        <option value='Resident'>Resident Contact</option>\r\n                        <option value='Maintenance'>Resident Maintenance</option>\r\n                    </select>\r\n                </div>\r\n                {type.length > 0 && (\r\n                    <div className='form-group col-auto'>\r\n                        {type === 'General' && (\r\n                            <select value={reason} onChange={changeFilters('reason')} id=\"reason\" className=\"form-control text-primary\">\r\n                                <option value=''>Reason (Any)</option>\r\n                                <option value='Property Inquiry'>Property Inquiry</option>\r\n                                <option value='Property Application'>Property Application</option>\r\n                                <option value='Other'>Other</option>\r\n                            </select>\r\n                        )}\r\n                        {(type === 'Resident' || type === 'Maintenance') && (\r\n                            <select value={user} onChange={changeFilters('user')} id=\"user\" className=\"form-control text-primary\">\r\n                                <option value=''>Resident (Any)</option>\r\n                                {users.map((user, i) => (\r\n                                    <option value={`${user._id}`} key={i}>{user.last_name}, {user.first_name}</option>\r\n                                ))}\r\n                            </select>\r\n                        )}\r\n                    </div>\r\n                )}\r\n                <div className='form-group col-auto'>\r\n                    <select value={sort} onChange={changeFilters('sort')} id=\"sort\" className=\"form-control text-primary\">\r\n                        <option value=''>Sort By (Default)</option>\r\n                        <option value='createdAt desc'>Date (Newest First)</option>\r\n                        <option value='createdAt asc'>Date (Oldest First)</option>\r\n                    </select>\r\n                </div>\r\n                <div className='form-group col-auto text-center'>\r\n                    <button onClick={submitFilters} type='submit' className='btn btn-primary'>Filter Messages</button>\r\n                </div>\r\n                <div className='form-group col-auto text-center'>\r\n                    <button onClick={resetFilters} type='submit' className='btn btn-outline-primary'>Reset Filters</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='my-4'>\r\n            <div className='row'>\r\n                <div className='col-auto'>\r\n                    <h1>{role === 1 ? 'Received' : 'My Sent'} Messages</h1>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            {showError()}\r\n            {role === 1 && showFilters()}\r\n            {role === 1 && <hr />}\r\n            {filteredMessages.length === 0 && messages.map((message, i) => (\r\n                <div key={i}>\r\n                    {i !== 0 && <hr />}\r\n                    <div className='row'>\r\n                        <div className='col-6'>\r\n                            <h6><strong>Name:</strong> {message.last_name}, {message.first_name}</h6>\r\n                            <h6><strong>Email:</strong> {message.email}</h6>\r\n                            <h6><strong>Phone:</strong> {message.phone}</h6>\r\n                            <h6><strong>Sent:</strong> {moment(message.createdAt).format('MMMM Do YYYY, h:mm:ss a')}</h6>\r\n                            {role === 1 && <button onClick={deleteMessage(message._id)} className='btn btn-danger btn-sm'>Delete Message</button>}\r\n                        </div>\r\n                        <div className='col-6'>\r\n                            <h6><strong>Type:</strong> {message.type}</h6>\r\n                            <h6><strong>Reason:</strong> {message.reason}</h6>\r\n                            {message.property && (\r\n                                <h6><strong>Property:</strong> {message.property.address}{message.property.address2 ? `, ${message.property.address2}` : null}, {message.property.city}, {message.property.state}, {message.property.zip}</h6>\r\n                            )}\r\n                            {message.application && (\r\n                                <h6><strong>Application:</strong> <a href={`${message.application.url}`} target='_blank' rel=\"noopener noreferrer\">View Application</a></h6>\r\n                            )}\r\n                            {message.severity && (\r\n                                <h6><strong>Severity:</strong> {message.severity}</h6>\r\n                            )}\r\n                            <h6><strong>Message:</strong> {message.message}</h6>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n            {filteredMessages.length > 0 && filteredMessages.map((message, i) => (\r\n                <div key={i}>\r\n                    {i !== 0 && <hr />}\r\n                    <div className='row'>\r\n                        <div className='col-6'>\r\n                            <h6><strong>Name:</strong> {message.last_name}, {message.first_name}</h6>\r\n                            <h6><strong>Email:</strong> {message.email}</h6>\r\n                            <h6><strong>Phone:</strong> {message.phone}</h6>\r\n                            <h6><strong>Sent:</strong> {moment(message.createdAt).format('MMMM Do YYYY, h:mm:ss a')}</h6>\r\n                            {role === 1 && <button onClick={deleteMessage(message._id)} className='btn btn-danger btn-sm'>Delete Message</button>}\r\n                        </div>\r\n                        <div className='col-6'>\r\n                            <h6><strong>Type:</strong> {message.type}</h6>\r\n                            <h6><strong>Reason:</strong> {message.reason}</h6>\r\n                            {message.property && (\r\n                                <h6><strong>Property:</strong> {message.property.address}, {message.property.city}, {message.property.state}, {message.property.zip}</h6>\r\n                            )}\r\n                            {message.application && (\r\n                                <h6><strong>Application:</strong> <a href={`${message.application.url}`} target='_blank' rel=\"noopener noreferrer\">View Application</a></h6>\r\n                            )}\r\n                            {message.severity && (\r\n                                <h6><strong>Severity:</strong> {message.severity}</h6>\r\n                            )}\r\n                            <h6><strong>Message:</strong> {message.message}</h6>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Messages;","import React, {useState, useEffect, useCallback} from 'react';\r\nimport {sendContact} from '../../core/apiContact';\r\n\r\nconst Maintenance = ({user}) => {\r\n    const [contact, setContact] = useState({\r\n        user: '',\r\n        first_name: '',\r\n        last_name: '',\r\n        email: '',\r\n        phone: '',\r\n        property: '',\r\n        reason: '',\r\n        message: '',\r\n        formData: new FormData()\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const {message, reason, formData, property} = contact;\r\n\r\n    const setUserFormInfo = useCallback(() => {\r\n        if(user.property) {\r\n            setError('');\r\n            setContact({\r\n                ...contact,\r\n                user: user._id,\r\n                first_name: user.first_name,\r\n                last_name: user.last_name,\r\n                email: user.email,\r\n                phone: user.phone,\r\n                property: user.property._id\r\n            });\r\n            formData.set('user', user._id);\r\n            formData.set('first_name', user.first_name);\r\n            formData.set('last_name', user.last_name);\r\n            formData.set('email', user.email);\r\n            formData.set('phone', user.phone);\r\n            formData.set('property', user.property._id);\r\n        } else {\r\n            setError('You are not currently assigned to a property.');\r\n        }\r\n    }, [formData, user]);\r\n\r\n    useEffect(() => {\r\n        setUserFormInfo();\r\n    }, [setUserFormInfo]);\r\n\r\n    const onChange = selected => event => {\r\n        setError('');\r\n        setSuccess(false);\r\n        let value = event.target.value;\r\n        setContact({...contact, [selected]: value});\r\n        formData.set(selected, value);\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        formData.set('type', 'Resident');\r\n        setError('');\r\n        setSuccess(false);\r\n        sendContact(formData).then((data, err) => {\r\n            if(!data || err) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(data.err) {\r\n                    setError(data.err);\r\n                } else {\r\n                    setContact({\r\n                        ...contact,\r\n                        reason: '',\r\n                        message: '',\r\n                        formData: new FormData()\r\n                    });\r\n                    setError('');\r\n                    setSuccess(true);\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const contactForm = () => (\r\n        <form encType=\"multipart/form-data\">\r\n            <div className='row mr-1'>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor='reason'>What Can We Help With?</label>\r\n                    <select value={reason} onChange={onChange('reason')} className=\"form-control text-primary\" id=\"reason\" name=\"reason\">\r\n                        <option value=''>Select One</option>\r\n                        <option value='Complaint'>Complaint</option>\r\n                        <option value='Financial'>Financial</option>\r\n                        <option value='Lease Renewal'>Lease Renewal</option>\r\n                        <option value='General'>General</option>\r\n                        <option value='Other'>Other</option>\r\n                    </select>\r\n                </div>\r\n                <div className='form-group col-12 row form-row'>\r\n                    <label htmlFor='message'>What Should We Know?</label>\r\n                    <textarea onChange={onChange('message')} value={message} rows='4' className='form-control text-primary' id='message' aria-describedby='message'></textarea>\r\n                </div>\r\n                <div className='col-12 text-center'>\r\n                    <button onClick={onSubmit} type='submit' className='btn btn-primary'>Submit</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            Thank you for contacting us! We will be in touch with you as soon as possible.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='my-4'>\r\n            <div className='row'>\r\n                <div className='col-auto'>\r\n                    <h1>Contact Property</h1>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            {showError()}\r\n            {showSuccess()}\r\n            {contactForm()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Maintenance;","import React, {useState, useEffect, useCallback} from 'react';\r\nimport {sendContact} from '../../core/apiContact';\r\n\r\nconst Maintenance = ({user}) => {\r\n    const [contact, setContact] = useState({\r\n        user: '',\r\n        first_name: '',\r\n        last_name: '',\r\n        email: '',\r\n        phone: '',\r\n        property: '',\r\n        reason: '',\r\n        severity: '',\r\n        message: '',\r\n        formData: new FormData()\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const {message, reason, severity, formData} = contact;\r\n\r\n    const setUserFormInfo = useCallback(() => {\r\n        if(user.property) {\r\n            setError('');\r\n            setContact({\r\n                ...contact,\r\n                user: user._id,\r\n                first_name: user.first_name,\r\n                last_name: user.last_name,\r\n                email: user.email,\r\n                phone: user.phone,\r\n                property: user.property._id\r\n            });\r\n            formData.set('user', user._id);\r\n            formData.set('first_name', user.first_name);\r\n            formData.set('last_name', user.last_name);\r\n            formData.set('email', user.email);\r\n            formData.set('phone', user.phone);\r\n            formData.set('property', user.property._id);\r\n        } else {\r\n            setError('You are not currently assigned to a property.');\r\n        }\r\n    }, [formData, user]);\r\n\r\n    useEffect(() => {\r\n        setUserFormInfo();\r\n    }, [setUserFormInfo]);\r\n\r\n    const onChange = selected => event => {\r\n        setError('');\r\n        setSuccess(false);\r\n        let value = event.target.value;\r\n        if(selected === 'severity' && value === 'Emergency') {\r\n            window.confirm('If this issue is a true emergency (fire, flood, life-threatening), please call 911 immediately.');\r\n        }\r\n        setContact({...contact, [selected]: value});\r\n        formData.set(selected, value);\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        formData.set('type', 'Maintenance');\r\n        setError('');\r\n        setSuccess(false);\r\n        sendContact(formData).then((data, err) => {\r\n            if(!data || err) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(data.err) {\r\n                    setError(data.err);\r\n                } else {\r\n                    setContact({\r\n                        ...contact,\r\n                        reason: '',\r\n                        severity: '',\r\n                        message: '',\r\n                        formData: new FormData()\r\n                    });\r\n                    setError('');\r\n                    setSuccess(true);\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const contactForm = () => (\r\n        <form encType=\"multipart/form-data\">\r\n            <div className='row mr-1'>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor='reason'>Where Is The Issue?</label>\r\n                    <select value={reason} onChange={onChange('reason')} className=\"form-control text-primary\" id=\"reason\" name=\"reason\">\r\n                        <option value=''>Select One</option>\r\n                        <option value='Bedroom'>Bedroom</option>\r\n                        <option value='Bathroom'>Bathroom</option>\r\n                        <option value='Kitchen'>Kitchen</option>\r\n                        <option value='Living Room'>Living Room</option>\r\n                        <option value='Laundry Room'>Laundry Room</option>\r\n                        <option value='Hallway'>Hallway</option>\r\n                        <option value='Outside'>Outside</option>\r\n                        <option value='Garage'>Garage</option>\r\n                        <option value='Roof'>Roof</option>\r\n                        <option value='Property Wide'>Property Wide</option>\r\n                        <option value='Other'>Other</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group col-12 row form-row\">\r\n                    <label htmlFor='severity'>How Severe Is The Issue?</label>\r\n                    <select value={severity} onChange={onChange('severity')} className=\"form-control text-primary\" id=\"severity\" name=\"severity\">\r\n                        <option value=''>Select One</option>\r\n                        <option value='Low'>Low</option>\r\n                        <option value='Medium'>Medium</option>\r\n                        <option value='High'>High</option>\r\n                        <option value='Emergency'>Emergency</option>\r\n                    </select>\r\n                </div>\r\n                <div className='form-group col-12 row form-row'>\r\n                    <label htmlFor='message'>Please Provide a Detailed Description of the Issue</label>\r\n                    <textarea onChange={onChange('message')} value={message} rows='4' className='form-control text-primary' id='message' aria-describedby='message'></textarea>\r\n                </div>\r\n                <div className='col-12 text-center'>\r\n                    <button onClick={onSubmit} type='submit' className='btn btn-primary'>Submit</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            Thank you for contacting us! We will be in touch with you as soon as possible.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='my-4'>\r\n            <div className='row'>\r\n                <div className='col-auto'>\r\n                    <h1>Maintenance Request</h1>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            {showError()}\r\n            {showSuccess()}\r\n            {contactForm()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Maintenance;","import React, {useState, useEffect, useCallback} from 'react';\r\nimport moment from 'moment';\r\nimport DropIn from 'braintree-web-drop-in-react';\r\nimport {isAuth} from '../../auth/apiAuth';\r\nimport {getClientToken, processPayment} from '../apiUsers';\r\n\r\nconst PayRent = ({user}) => {\r\n    const {_id, property, payments} = user;\r\n    const [payment, setPayment] = useState({\r\n        clientToken: null,\r\n        instance: {}\r\n    });\r\n    const {clientToken} = payment;\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const {token} = isAuth();\r\n\r\n    const getToken = () => {\r\n        getClientToken(token).then((data, err) => {\r\n            if(!data || err) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(data.error) {\r\n                    setError(data.error);\r\n                } else {\r\n                    setPayment({...payment, clientToken: data.clientToken});\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    const checkUserProperty = useCallback(() => {\r\n        if(property) {\r\n            setError('');\r\n        } else {\r\n            setError('You are not currently assigned to a property.');\r\n        }\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        getToken();\r\n        checkUserProperty();\r\n    }, []);\r\n\r\n    const onClick = () => {\r\n        if(property) {\r\n            const confirmPayment = window.confirm(`Are you sure you want to make a payment in the amount of $${parseFloat(Math.round((property.rent * 1.03) * 100) / 100).toFixed(2)}? By selecting OK, you are agreeing to a convenience fee of 3%. This transaction is nonrefundable.`);\r\n            if(confirmPayment) {\r\n                let nonce;\r\n                payment.instance.requestPaymentMethod().then(data => {\r\n                    nonce = data.nonce;\r\n                    const paymentData = {\r\n                        paymentMethodNonce: nonce,\r\n                        amount: (property.rent * 1.03)\r\n                    };\r\n                    processPayment(token, _id, paymentData).then(response => {\r\n                        setSuccess(true);\r\n                    }).catch(error => {\r\n                        setError(error.message);\r\n                    });\r\n                }).catch(error => {\r\n                    setError(error.message);\r\n                });\r\n            }\r\n        } else {\r\n            setError('You are not currently assigned to a property.');\r\n        }\r\n    };\r\n\r\n    const showDropIn = () => (\r\n        <div>\r\n            {clientToken !== null ? (\r\n                <div className='mr-3'>\r\n                    <DropIn className='mt-0' options={{authorization: clientToken}} onInstance={instance => (payment.instance = instance)} />\r\n                    <button onClick={onClick} className='btn btn-success btn-block mb-3'>Confirm Payment</button>\r\n                </div>\r\n            ) : ''}\r\n        </div>\r\n    );\r\n\r\n    const showPaymentInfo = () => property ? (\r\n        <div>\r\n            <h5><strong>My Rent:</strong> ${property.rent}</h5>\r\n            <h5><strong>Total to be Charged:</strong> ${parseFloat(Math.round((property.rent * 1.03) * 100) / 100).toFixed(2)}</h5>\r\n            <h5><small>* There is a 3% convenience fee charged for online rental payments.</small></h5>\r\n            {showDropIn()}\r\n            <div className='row'>\r\n                <div className='mt-4 col-auto'>\r\n                    <h1>Payment History</h1>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            {payments.map((payment, i) => (\r\n                <div key={i}>\r\n                    <h6><strong>Amount:</strong> ${parseFloat(Math.round((payment.amount) * 100) / 100).toFixed(2)}</h6>\r\n                    <h6><strong>Date:</strong> {moment(payment.date).format('MMMM Do YYYY, h:mm:ss a')}</h6>\r\n                    <hr />\r\n                </div>\r\n            ))}\r\n        </div>\r\n    ) : null;\r\n\r\n    const showError = () => (\r\n        <div className='alert alert-danger' style={{display: error ? '' : 'none'}}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className='alert alert-success' style={{display: success ? '' : 'none'}}>\r\n            Your payment was successful. You will receive a receipt to your email shortly.\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className='my-4'>\r\n            <div className='row'>\r\n                <div className='col-auto'>\r\n                    <h1>Pay Rent</h1>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            {showError()}\r\n            {showSuccess()}\r\n            {showPaymentInfo()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PayRent;","import React, {useState, useEffect, useCallback} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {readCurrentUser} from './apiUsers';\r\nimport {isAuth} from '../auth/apiAuth';\r\n\r\nimport UserInfo from './UserInfo';\r\nimport UserDocuments from './resident/UserDocuments';\r\nimport UpdateSelf from './UpdateSelf';\r\nimport AddForms from './admin/AddForms';\r\nimport RemoveForms from './admin/RemoveForms';\r\nimport AddResidents from './admin/AddResidents';\r\nimport ManageResidents from './admin/ManageResidents';\r\nimport ResidentDocuments from './admin/ResidentDocuments';\r\nimport AddProperties from './admin/AddProperties';\r\nimport ManageProperties from './admin/ManageProperties';\r\nimport Messages from './Messages';\r\nimport ResidentContact from './resident/ResidentContact';\r\nimport Maintenance from './resident/Maintenance';\r\nimport PayRent from './resident/PayRent';\r\n\r\nconst UserDashboard = () => {\r\n    const [section, setSection] = useState('info');\r\n    const [sidebar, setSidebar] = useState(true);\r\n    const [user, setUser] = useState({\r\n        _id: '',\r\n        first_name: '',\r\n        last_name: '',\r\n        email: '',\r\n        phone: '',\r\n        role: '',\r\n        property: {},\r\n        files: [],\r\n        payments: [],\r\n        createdAt: '',\r\n        updatedAt: ''\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [signedIn, setSignedIn] = useState(true);\r\n    const {first_name, last_name, role} = user;\r\n    const {token} = isAuth();\r\n\r\n    const getUser = useCallback(() => {\r\n        readCurrentUser(token).then((data, err) => {\r\n            if(!data || err) {\r\n                setError('Oops! Something went wrong.');\r\n            } else {\r\n                if(!data.user) {\r\n                    if(typeof window !== 'undefined') {\r\n                        localStorage.removeItem('jwt');\r\n                        setSignedIn(false);\r\n                    }\r\n                } else {\r\n                    setUser({\r\n                        _id: data.user._id,\r\n                        first_name: data.user.first_name,\r\n                        last_name: data.user.last_name,\r\n                        email: data.user.email,\r\n                        phone: data.user.phone,\r\n                        role: data.user.role,\r\n                        property: data.user.property,\r\n                        files: data.user.files,\r\n                        payments: data.user.payments.reverse(),\r\n                        createdAt: data.user.createdAt,\r\n                        updatedAt: data.user.updatedAt\r\n                    });\r\n                    setSignedIn(true);\r\n                }\r\n            }\r\n        });\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        getUser();\r\n    }, [getUser]);\r\n\r\n    const toggleSection = selected => event => {\r\n        event.preventDefault();\r\n        setSection(`${selected}`);\r\n    };\r\n\r\n    const showSection = () => {\r\n        switch(section) {\r\n            case 'maintenance':\r\n                return <Maintenance user={user} />;\r\n            case 'contact':\r\n                return <ResidentContact user={user} />;\r\n            case 'messages':\r\n                return <Messages role={role} />;\r\n            case 'addForm':\r\n                return <AddForms />;\r\n            case 'removeForm':\r\n                return <RemoveForms />;\r\n            case 'addProperty':\r\n                return <AddProperties />;\r\n            case 'manageProperties':\r\n                return <ManageProperties />;\r\n            case 'addResident':\r\n                return <AddResidents />;\r\n            case 'manageResidents':\r\n                return <ManageResidents />;\r\n            case 'residentDocuments':\r\n                return <ResidentDocuments />;\r\n            case 'updateSelf':\r\n                return <UpdateSelf user={user} />;\r\n            case 'myDocuments':\r\n                return <UserDocuments user={user} />;\r\n            case 'payRent':\r\n                return <PayRent user={user} />;\r\n            default: \r\n                if(!error) {\r\n                    return <UserInfo user={user} />;\r\n                }\r\n        }\r\n    };\r\n\r\n    const toggleSidebar = () => {\r\n        setSidebar(!sidebar);\r\n    };\r\n\r\n    const showError = () => (\r\n        <div className='container'>\r\n            <div className='alert alert-danger mt-5' style={{display: error ? '' : 'none'}}>\r\n                {error}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const showDashboard = () => (\r\n        <div className='text-primary'>\r\n            {showError()}\r\n                {!error && (\r\n                    <div className={`vertical-nav bg-light ${!sidebar && 'dashboard-active'}`} id=\"sidebar\">\r\n                    <div className=\"py-3 px-3 bg-white shadow-sm\">\r\n                        <div className=\"media d-flex align-items-center\">\r\n                            <div className=\"media-body\">\r\n                                <h4 className=\"m-0 bg-white\">{first_name} {last_name}</h4>\r\n                                <p className=\"font-weight-light mb-0 bg-white\">{role === 1 ? 'Admin' : 'Resident'}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <p className=\"font-weight-bold px-3 pb-1 mt-4 mb-0\">Main</p>\r\n                    <ul className=\"nav flex-column bg-white mb-0\">\r\n                        <li className=\"nav-item\">\r\n                            <button className={`nav-link dashboard-btn bg-light ${section === 'info' && 'active'}`} onClick={toggleSection('info')}>\r\n                                <i className=\"fas fa-info-circle mr-3 text-primary fa-fw selector\"></i>\r\n                                My Info\r\n                            </button>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <button className={`nav-link dashboard-btn bg-light ${section === 'updateSelf' && 'active'}`} onClick={toggleSection('updateSelf')}>\r\n                                <i className=\"fas fa-pencil-alt mr-3 text-primary fa-fw selector\"></i>\r\n                                Update My Info\r\n                            </button>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <button className={`nav-link dashboard-btn bg-light ${section === 'messages' && 'active'}`} onClick={toggleSection('messages')}>\r\n                                <i className=\"fas fa-inbox mr-3 text-primary fa-fw selector\"></i>\r\n                                View Messages\r\n                            </button>\r\n                        </li>\r\n                    </ul>\r\n                    {role === 0 ? (\r\n                        <div>\r\n                            <br />\r\n                            <p className=\"font-weight-bold px-3 pb-1 mb-0\">Residents</p>\r\n                            <ul className=\"nav flex-column bg-white mb-0\">\r\n                                <li className=\"nav-item\">\r\n                                    <button className={`nav-link dashboard-btn bg-light ${section === 'myDocuments' && 'active'}`} onClick={toggleSection('myDocuments')}>\r\n                                        <i className=\"fas fa-file mr-3 text-primary fa-fw selector\"></i>\r\n                                        My Documents\r\n                                    </button>\r\n                                </li>\r\n                                <li className=\"nav-item\">\r\n                                    <button className={`nav-link dashboard-btn bg-light ${section === 'payRent' && 'active'}`} onClick={toggleSection('payRent')}>\r\n                                        <i className=\"fas fa-money-check-alt mr-3 text-primary fa-fw selector\"></i>\r\n                                        Pay Rent\r\n                                    </button>\r\n                                </li>\r\n                                <li className=\"nav-item\">\r\n                                    <button className={`nav-link dashboard-btn bg-light ${section === 'maintenance' && 'active'}`} onClick={toggleSection('maintenance')}>\r\n                                        <i className=\"fa fa-tools mr-3 text-primary fa-fw selector\"></i>\r\n                                        Maintenance\r\n                                    </button>\r\n                                </li>\r\n                                <li className=\"nav-item\">\r\n                                    <button className={`nav-link dashboard-btn bg-light ${section === 'contact' && 'active'}`} onClick={toggleSection('contact')}>\r\n                                        <i className=\"fa fa-envelope mr-3 text-primary fa-fw selector\"></i>\r\n                                        Contact Property\r\n                                    </button>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    ) : null}\r\n                    {role === 1 ? (\r\n                        <div>\r\n                            <br />\r\n                            <p className=\"font-weight-bold px-3 pb-1 mb-0\">Forms</p>\r\n                            <ul className=\"nav flex-column bg-white mb-0\">\r\n                                <li className=\"nav-item\">\r\n                                    <button className={`nav-link dashboard-btn bg-light ${section === 'addForm' && 'active'}`} onClick={toggleSection('addForm')}>\r\n                                        <i className=\"fas fa-plus mr-3 text-primary fa-fw selector\"></i>\r\n                                        Add Form\r\n                                    </button>\r\n                                </li>\r\n                                <li className=\"nav-item\">\r\n                                    <button className={`nav-link dashboard-btn bg-light ${section === 'removeForm' && 'active'}`} onClick={toggleSection('removeForm')}>\r\n                                        <i className=\"fas fa-minus mr-3 text-primary fa-fw selector\"></i>\r\n                                        Remove Form\r\n                                    </button>\r\n                                </li>\r\n                            </ul>\r\n                            <br />\r\n                            <p className=\"font-weight-bold px-3 pb-1 mb-0\">Properties</p>\r\n                            <ul className=\"nav flex-column bg-white mb-0\">\r\n                                <li className=\"nav-item\">\r\n                                    <button className={`nav-link dashboard-btn bg-light ${section === 'addProperty' && 'active'}`} onClick={toggleSection('addProperty')}>\r\n                                        <i className=\"fas fa-plus mr-3 text-primary fa-fw selector\"></i>\r\n                                        Add Property\r\n                                    </button>\r\n                                </li>\r\n                                <li className=\"nav-item\">\r\n                                    <button className={`nav-link dashboard-btn bg-light ${section === 'manageProperties' && 'active'}`} onClick={toggleSection('manageProperties')}>\r\n                                        <i className=\"fas fa-edit mr-3 text-primary fa-fw selector\"></i>\r\n                                        Manage Properties\r\n                                    </button>\r\n                                </li>\r\n                            </ul>\r\n                            <br />\r\n                            <p className=\"font-weight-bold px-3 pb-1 mb-0\">Residents</p>\r\n                            <ul className=\"nav flex-column bg-white mobile-mb\">\r\n                                <li className=\"nav-item\">\r\n                                    <button className={`nav-link dashboard-btn bg-light ${section === 'addResident' && 'active'}`} onClick={toggleSection('addResident')}>\r\n                                        <i className=\"fas fa-plus mr-3 text-primary fa-fw selector\"></i>\r\n                                        Add Resident\r\n                                    </button>\r\n                                </li>\r\n                                <li className=\"nav-item\">\r\n                                    <button className={`nav-link dashboard-btn bg-light ${section === 'manageResidents' && 'active'}`} onClick={toggleSection('manageResidents')}>\r\n                                        <i className=\"fas fa-user-edit mr-3 text-primary fa-fw selector\"></i>\r\n                                        Manage Residents\r\n                                    </button>\r\n                                </li>\r\n                                <li className=\"nav-item\">\r\n                                    <button className={`nav-link dashboard-btn bg-light ${section === 'residentDocuments' && 'active'}`} onClick={toggleSection('residentDocuments')}>\r\n                                        <i className=\"fas fa-file-upload mr-3 text-primary fa-fw selector\"></i>\r\n                                        Upload Files\r\n                                    </button>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    ) : null}\r\n                    </div>\r\n                )}\r\n            <div className={`page-content px-3 pt-3 mb-4 bg-light ${!sidebar && 'dashboard-active'}`} id=\"content\">\r\n                {!error && <button onClick={toggleSidebar} id=\"sidebarCollapse\" type=\"button\" className=\"btn btn-white bg-white text-primary rounded-pill shadow-sm px-4\"><i className={`${sidebar && 'fas fa-arrow-left'} ${!sidebar && 'fas fa-arrow-right'} mr-2`}></i><small className=\"font-weight-bold\">{sidebar ? 'Hide Menu' : 'Show Menu'}</small></button>}\r\n                <div className='pl-3 dashboard-page'>\r\n                    {showSection()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const signedInRedirect = () => !signedIn ? (\r\n        <Redirect to='/signin' />\r\n    ) : null;\r\n\r\n    return (\r\n        <div>\r\n            {showDashboard()}\r\n            {signedInRedirect()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserDashboard;","import React from 'react';\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\r\n\r\nimport PrivateRoute from './components/auth/PrivateRoute';\r\nimport Navbar from './components/core/Navbar';\r\nimport Home from './components/core/Home';\r\nimport Contact from './components/core/Contact';\r\nimport Properties from './components/properties/Properties';\r\nimport Property from './components/properties/Property';\r\nimport Signin from './components/auth/Signin';\r\nimport ForgotPassword from './components/auth/ForgotPassword';\r\nimport UserDashboard from './components/users/UserDashboard';\r\n\r\nconst App = () => {\r\n    return (\r\n        <div>\r\n            <BrowserRouter>\r\n                <Navbar />\r\n                <Switch>\r\n                    <Route path='/' exact component={Home} />\r\n                    <Route path='/contact' exact component={Contact} />\r\n                    <Route path='/properties' exact component={Properties} />\r\n                    <Route path='/properties/:propertyId' exact component={Property} />\r\n                    <Route path='/signin' exact component={Signin} />\r\n                    <Route path='/password/reset' exact component={ForgotPassword} />\r\n                    <PrivateRoute path='/dashboard' exact component={UserDashboard} />\r\n                </Switch>\r\n            </BrowserRouter>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}